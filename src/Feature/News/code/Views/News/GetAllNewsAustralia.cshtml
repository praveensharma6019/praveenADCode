@using Sitecore.Feature.News
@using Sitecore
@using Sitecore.Foundation.SitecoreExtensions.Extensions
@model IEnumerable<Sitecore.Data.Items.Item>
@{
    var Items = Model; //.OrderByDescending(x => x.Statistics.Created).Take(3);
}
<section class="section bg-white" id="latestNews">
    <div class="container">
        <h3 class="sectionHeading leftAlign mt-0">News</h3>
        <div class="row media">
            @foreach (var child in Model.OrderByDescending(x => x.Statistics.Created).Where(x => x.TemplateID == new Sitecore.Data.ID("{2DC7B601-67F0-4EEA-9408-E8306A6DEBC8}")).ToList())
            {
                Sitecore.Data.Fields.LinkField linkfield = child.Fields[Templates.NewsArticle.Fields.Link];
                var url = linkfield.GetFriendlyUrl();
                <div class="col-sm-5 mr-auto">
                    <div class="">
                        <ul class="newsList">
                            <li>
                                <a href="@url" class="newsItem" target="_blank">
                                    <div class="newsImg">@Html.Sitecore().ImageField(Templates.NewsArticle.Fields.Image, child)</div>
                                    <div class="newsDetails">
                                        <div class="newsBrief">@Html.Sitecore().Field(Templates.NewsArticle.Fields.Title, child)</div>
                                        <div class="newsDate txt-blue">
                                            @Html.Sitecore().Field(Templates.NewsArticle.Fields.Date, child, new
                                            {
                                                format = "MMM dd, yyyy"
                                            })
                                        </div>
                                    </div>
                                    <div class="clearfix"></div>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            }
            <div id="pagination"></div>
        </div>
    </div>
</section>
<script src="/scripts/Realty/jquery-3.1.0.js"></script>
<script src="/scripts/Realty/jquery.simplePagination.js"></script>
<script>
    jQuery(function ($) {
        var items = $("#content tbody tr");
        var numItems = items.length;
        var perPage = 5;
        // Only show the first 2 (or first `per_page`) items initially.
        items.slice(perPage).hide();
        // Now setup the pagination using the `#pagination` div.
        $("#pagination").pagination({
            items: numItems,
            itemsOnPage: perPage,
            cssStyle: "light-theme",
            // This is the actual page changing functionality.
            onPageClick: function (pageNumber) {
                // We need to show and hide `tr`s appropriately.
                var showFrom = perPage * (pageNumber - 1);
                var showTo = showFrom + perPage;
                // We'll first hide everything...
                items.hide()
                    // ... and then only show the appropriate rows.
                    .slice(showFrom, showTo).show();
            }
        });
    });
</script>