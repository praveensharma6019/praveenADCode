@using Sitecore.Feature.News
@using Sitecore.Foundation.Dictionary.Extensions
@using Sitecore.Foundation.SitecoreExtensions.Extensions
@using Sitecore.Mvc.Presentation

@{
    var items = RenderingContext.Current.Rendering.Item.Axes.GetDescendants();
}
<div class="row">
    <div class="col s12 section-container">
        <header class="section-header-main">
            <h2>@Sitecore.Context.Item.Fields["Title"]</h2>
        </header>
        <!-- Tabe View on mobile -->

        <div class="mob-listing-cards hide-on-med-and-up">

            @foreach (var child in items.ToList())
            {
                var itemURL = Sitecore.Links.LinkManager.GetItemUrl(child);
                <div class="mob-listing">
                    <ul>
                        <li>
                            <label>@Html.Sitecore().Dictionary("/Media/AdaniCorporateNews/Date", "Date")</label>
                            <span>
                                @Html.Sitecore().Field(Templates.NewsArticle.Fields.Date, child, new
                                {
                                    format = "MMM dd, yyyy"
                                })
                            </span>
                        </li>
                        <li>
                            <label>@Html.Sitecore().Dictionary("/Media/AdaniCorporateNews/Headlines", "Headlines")</label>
                            <span>@Html.Sitecore().Field(Templates.NewsArticle.Fields.Title, child)</span>
                        </li>
                        <li>
                            <label>@Html.Sitecore().Dictionary("/Media/AdaniCorporateNews/Action", "Action")</label>
                            <span><a href="#">@Html.Sitecore().Field(Templates.NewsArticle.Fields.viewDownloadLink, child, new { @class = "" })</a></span>
                        </li>
                    </ul>
                </div>
            }


        </div>
        <!-- Tabe View on Desktop -->
        <div class="customer_detail_wrapper customer_detail_list hide-on-med-and-down">
            <table class="customer_detail_list-details">
                <thead>
                    <tr>
                        <th style="width: 15%;">@Html.Sitecore().Dictionary("/Media/AdaniCorporateNews/Date", "Date")</th>

                        <th style="width: 70%;">@Html.Sitecore().Dictionary("/Media/AdaniCorporateNews/Headlines", "Headlines")</th>

                        <th style="width: 15%;">@Html.Sitecore().Dictionary("/Media/AdaniCorporateNews/Action", "Action")</th>
                    </tr>
                </thead>

                <tbody>
                    @foreach (var child in items.ToList())
                    {
                        var itemURL = Sitecore.Links.LinkManager.GetItemUrl(child);
                        <tr>
                            <td>
                                <div class="table-cell">
                                    <label>
                                        @Html.Sitecore().Field(Templates.NewsArticle.Fields.Date, child, new
                               {
                                   format = "MMM dd, yyyy"
                               })
                                    </label>
                                </div>
                            </td>
                            <td>
                                <div class="table-cell">
                                    <label>@Html.Sitecore().Field(Templates.NewsArticle.Fields.Title, child)</label>
                                </div>
                            </td>
                            <td>
                                <div class="table-cell">
                                    <label><a class="fas fa-download" href="#">@Html.Sitecore().Field(Templates.NewsArticle.Fields.viewDownloadLink, child, new { @class = "" })</a></label>
                                </div>
                            </td>
                        </tr>

                    }

                </tbody>
            </table>
        </div>
        <!-- <include component="Pagination"></include>  -->
    </div>
</div>