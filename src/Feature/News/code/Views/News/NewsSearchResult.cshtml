@using Sitecore.Feature.News
@using Sitecore.Foundation.SitecoreExtensions.Extensions
@model Sitecore.Foundation.Indexing.Models.ISearchResult
@{
    Sitecore.Data.Fields.LinkField linkfield = Model.Item.Fields[Templates.NewsArticle.Fields.Link];
    var url = linkfield.GetFriendlyUrl();
}
<div class="media">
    <div class="media-body">
        <div class="media-title">
            <div>
                <span class="label label-info">@Model.ContentType</span>
                <span class="label label-default">
                    @Html.Sitecore().Field(Templates.NewsArticle.Fields.Date, Model.Item, new { format = "MMMM dd, yyyy" })
                </span>
            </div>
            @if (string.IsNullOrEmpty(url))
            {
                <h2>
                    <a href="@Model.Url">@Html.Raw(Model.Title)</a>
                </h2>
            }
            else
            { <h2>
                    <a href="@url">@Html.Raw(Model.Title)</a>
                </h2>
            }
        </div>
        @if (!string.IsNullOrWhiteSpace(Model.Description))
        {
            @Html.Raw(Model.Description)
        }
    </div>
    @if (Model.Item.FieldHasValue(Templates.NewsArticle.Fields.Image))
    {
        if (string.IsNullOrEmpty(url))
        {
            <div class="media-left">
                <a href="@Model.Url">
                    @Html.Sitecore().ImageField(Templates.NewsArticle.Fields.Image, Model.Item, mw: 150)
                </a>
            </div>
        }
        else
        {
            <div class="media-left">
                <a href="@url">
                    @Html.Sitecore().ImageField(Templates.NewsArticle.Fields.Image, Model.Item, mw: 150)
                </a>
            </div>
        }
    }
</div>