@using Sitecore.Feature.Navigation
@using Sitecore.Foundation.SitecoreExtensions.Extensions
@model Sitecore.Feature.Navigation.Models.NavigationItems

    <div class="" id="topMenu">
        <div id="dismiss" class="d-block d-lg-none"><i class="fas fa-arrow-left"></i></div>
        <div class="clearfix"></div>
        <ul class="topMenu">
            @if (Model?.NavItems != null)
            {
                foreach (var item in Model.NavItems)
                {
                    var hasChildren = item.Children != null && item.Children.NavItems.Any() && item.ShowChildren;
                    var cssClass = "";
                    if (hasChildren)
                    {
                        cssClass += " dropdown";
                    }

                    <li class="@cssClass">

                        @if (hasChildren)
                        {

                            <a href="@item.Url" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                                @Html.Sitecore().Field(Templates.Navigable.Fields.NavigationTitle, item.Item)<span class="caret"></span>
                            </a>
                            <ul class="dropdown-menu">
                                @foreach (var subitem in item.Children.NavItems)
                                {
                                    <li class="@(subitem.IsActive ? "active" : "")">
                                        <a href="@subitem.Url" target="@subitem.Target">@Html.Sitecore().Field(Templates.Navigable.Fields.NavigationTitle, subitem.Item)</a>
                                    </li>
                                }
                            </ul>
                        }
                        else
                        {
                            if (!item.IsExternalLink)
                            {
                                if (!item.IsNewTab)
                                {
                                    <a href="@item.Url" target="@item.Target">
                                        @Html.Sitecore().Field(Templates.Navigable.Fields.NavigationTitle, item.Item)
                                    </a>
                                }
                                else
                                {
                                    <a href="@item.Url" target="_blank">
                                        @Html.Sitecore().Field(Templates.Navigable.Fields.NavigationTitle, item.Item)
                                    </a>
                                }
                            }
                            else
                            {
                                if (!item.IsNewTab)
                                {
                                    <a href="@item.Link" target="@item.Target">
                                        @Html.Sitecore().Field(Templates.Navigable.Fields.NavigationTitle, item.Item)
                                    </a>
                                }
                                else
                                {
                                    <a href="@item.Link" target="_blank">
                                        @Html.Sitecore().Field(Templates.Navigable.Fields.NavigationTitle, item.Item)
                                    </a>
                                }
                            }
                        }
                    </li>
                }
            }
        </ul>
        @*@Html.Sitecore().Placeholder("linkmenumobile-downloads")
        @Html.Sitecore().Placeholder("linkmenumobile-social")*@
    </div>
