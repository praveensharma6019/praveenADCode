@using Sitecore.Data.Fields
@using Sitecore.Feature.Media
@using Sitecore.Feature.Media.Repositories
@using Sitecore.Foundation.Alerts
@using Sitecore.Foundation.Alerts.Extensions
@using Sitecore.Foundation.Dictionary.Extensions
@using Sitecore.Foundation.SitecoreExtensions.Extensions
@using Sitecore.Foundation.Theming.Extensions
@using Sitecore.Resources.Media
@model Sitecore.Mvc.Presentation.RenderingModel
@{

    var datasource = Sitecore.Mvc.Presentation.RenderingContext.Current.Rendering.DataSource;
    var model = Sitecore.Context.Database.GetItem(datasource);
}

<section class="mainSlider">
    <div class="">
        <div class="mainSlider_main">
            <div class="owl-carousel homeslider-other">
                @foreach (var item in model.GetChildren().ToList())
                {
                    if (item.TemplateID.ToString() == "{AEBBF343-39E2-441B-A745-D551A87E09D3}")
                    {
                        Sitecore.Data.Fields.ImageField BannerImageField = ((Sitecore.Data.Fields.ImageField)item.Fields["BannerImage"]);
                        string BannerImageUrl = Sitecore.Resources.Media.MediaManager.GetMediaUrl(BannerImageField.MediaItem);

                        Sitecore.Data.Fields.ImageField MobileImageField = ((Sitecore.Data.Fields.ImageField)item.Fields["MobileImage"]);
                        string MobileImageUrl = Sitecore.Resources.Media.MediaManager.GetMediaUrl(MobileImageField.MediaItem);

                        Sitecore.Data.Fields.LinkField linkfld = item.Fields["ExploreLink"];
                        var url = linkfld.GetFriendlyUrl();

                        <div class="item">

                            <picture>
                                @if (!string.IsNullOrEmpty(BannerImageUrl))
                                {
                                    <source srcset="@BannerImageUrl" media="(min-width: 960px)">
                                    <source srcset="@BannerImageUrl" media="(min-width: 767px)">
                                }
                                @if (!string.IsNullOrEmpty(MobileImageUrl))
                                {

                                    <source srcset="@MobileImageUrl" media="(min-width: 0)">
                                    <source srcset="@MobileImageUrl" media="(min-width: 0)">
                                }
                                <img alt="" srcset="@BannerImageUrl" src="@BannerImageUrl">
                            </picture>
                            <div class="bannercontent">
                                <div class="container-fluid">
                                    <div class="bannercontent_inner">
                                        @Html.Sitecore().Field("Title", item)
                                        <!--  <div><a href="@url" class="btn btn-gradient">EXPLORE</a></div>
                            <div><a href="#">Know More <span class="fa fa-arrow-right"></span></a></div>-->
                                    </div>
                                </div>
                            </div>
                        </div>
                    }
                    else if (item.TemplateID == Sitecore.Data.ID.Parse("{F1C095E2-B3E0-46D0-B838-02A9E8B880D9}"))
                    {

                        if (Request.Browser.IsMobileDevice)
                        {
                            if (Request.Browser.ScreenPixelsWidth < 768)
                            {
                                @Html.Sitecore().Placeholder("mobile-video-banner")
                            }

                        }
                        else
                        {
                            Sitecore.Data.Fields.LinkField linkField = item.Fields["MediaVideoLink"];
                            var url = linkField.Url;
                            Sitecore.Data.Fields.LinkField linkFields = item.Fields["MediaLink"];
                            var NavigateUrls = linkFields.GetFriendlyUrl();

                            <div class="item" data-videosrc="@url">

                                <video class="d-block w-100" autoplay muted>
                                    <source src="@url" type="video/mp4 ">
                                </video>
                                @if (!String.IsNullOrEmpty(Html.Sitecore().Field("MediaLink", item).ToString()))
                                {
                                    <a href="@NavigateUrls">
                                        @Html.Sitecore().ImageField("MediaThumbnail", item, 0, 0, "image-fluid")
                                    </a>
                                }
                                @if (String.IsNullOrEmpty(Html.Sitecore().Field("MediaLink", item).ToString()))
                                {
                                    @Html.Sitecore().ImageField("MediaThumbnail", item, 0, 0, "image-fluid")
                                }
                                @if (String.IsNullOrEmpty(Html.Sitecore().Field("MediaVideoLink", item).ToString()) && !String.IsNullOrEmpty(Html.Sitecore().Field("MediaDescription", item).ToString()))
                                {<div class="banner-content">
                                        @Html.Sitecore().Field("MediaDescription", item)
                                    </div>
                                }
                            </div>
                        }
                    }
                }
                </div>
            <div class="scroll-down">
                <a href="#main-section"><span><img src="-/media/430EB59812044B1D819E3F7C2256127C.ashx"></span></a>
            </div>
        </div>
        <div class="flight-schedule d-none">
            <div class="container-fluid">
                <div class="flight-schedule-container ">
                    <ul class="nav nav-tabs">
                        <li class="nav-item">
                            <a class="nav-link active" data-toggle="tab" href="#arrival">
                                Arrival
                            </a>

                        </li>
                        <li class="nav-item">
                            <a class="nav-link " data-toggle="tab" href="#departure">Departure </a>
                        </li>

                    </ul>

                    <!-- Tab panes -->
                    <div class="tab-content check_flight">
                        <div class="tab-pane container-fluid active fadeUp animate" id="departure">
                            <form class="check_dp_flight-schedule">
                                <div class="form-group mb-3">
                                    <input type="text" class="form-control" placeholder="Recipient's username" aria-label="Recipient's username">
                                    <button class="" type="button"><svg xmlns="http://www.w3.org/2000/svg" width="19.811" height="19.811" viewBox="0 0 19.811 19.811"><defs></defs><g transform="translate(-2.25 -2.25)"><circle class="a" cx="8" cy="8" r="8" transform="translate(3 3)" /><line class="a" x1="4.35" y1="4.35" transform="translate(16.65 16.65)" /></g></svg></button>
                                </div>
                            </form>
                        </div>
                        <div class="tab-pane container-fluid fadeUp animate" id="arrival">
                            <form class="check_dp_flight-schedule">
                                <div class="form-group">
                                    <div class="input-group">
                                        <input id="dep_flight-search" class="form-control" placeholder="Flight, City, Airline…">
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</section>