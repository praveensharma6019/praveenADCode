@using Sitecore.Data.Fields
@using Sitecore.Feature.Media
@using Sitecore.Feature.Media.Repositories
@using Sitecore.Foundation.Alerts
@using Sitecore.Foundation.Alerts.Extensions
@using Sitecore.Foundation.Dictionary.Extensions
@using Sitecore.Foundation.SitecoreExtensions.Extensions
@using Sitecore.Foundation.Theming.Extensions
@using Sitecore.Resources.Media
@using Sitecore.Mvc.Presentation

@model Sitecore.Mvc.Presentation.RenderingModel

@{



    var datasource = Sitecore.Mvc.Presentation.RenderingContext.Current.Rendering.DataSource;
    var element = Sitecore.Context.Database.GetItem(datasource);

    //Cast to a Sitecore item
    Sitecore.Data.Items.Item myItem = (Sitecore.Data.Items.Item)element;
}




@{
    Sitecore.Data.Fields.ImageField Imagefield = myItem.Fields[Templates.Services.Fields.Image];
    string displayImage = Imagefield.MediaItem != null ? Sitecore.Resources.Media.MediaManager.GetMediaUrl(Imagefield.MediaItem) : string.Empty;


    Sitecore.Data.Fields.LinkField linkfld = myItem.Fields[Templates.Services.Fields.CTALink];
    var url = linkfld.GetFriendlyUrl();

    var title = @Html.Sitecore().Field(Templates.Services.Fields.Title);

    var shortTitle = @Html.Sitecore().Field(Templates.Services.Fields.ShortTitle);

    var ctaText = @Html.Sitecore().Field(Templates.Services.Fields.CTAText);



    <figure class="banner-image-only">

        <img src="@displayImage" class="responsive-img hide-on-med-and-down" alt="Go Green" />
        <img src="/electricity_assets/images/Electricity_GoGreen_Mobile.png" class="responsive-img hide-on-large-only" alt="Go Green" />

    </figure>
    


}

