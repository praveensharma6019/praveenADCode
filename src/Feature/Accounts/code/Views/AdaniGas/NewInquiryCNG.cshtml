@model Sitecore.Feature.Accounts.Models.NewInquiryCNG

<style>
    .danger {
        color: red;
    }

    .activeType {
        font-weight: bold !important;
    }

    .dropdownheight {
        height: 45px !important;
    }
</style>

<div class="headerfullbanner">
    <div class="container">
        <div class="banner-title">
            <div class="overlay"></div>
            <h2>Inquiry for a New Connection</h2>
        </div>
    </div>
</div>
<div class="container">
    <div class="innerpage">
        <div class="inquiryform">
            @*<div class="col-md-12 inquiryform-box">
                    <div class="inside-cont">
                        <p>Select type of Connection</p>
                        <br />
                        @Html.HiddenFor(model => model.Bpkind)
                        <div class="checkbox">
                            <ul>
                                <li>
                                    <input type="checkbox" id="checkbox1" name="Domestic" value="Domestic" class="chk-connection">
                                    <label for="checkbox1"><span id="Domestic">Domestic</span></label></li>
                                <li>
                                    <input type="checkbox" id="checkbox2" name="Commercial" value="Commercial" class="chk-connection">
                                    <label for="checkbox2"><span id="Commercial">Commercial</span></label></li>
                                <li>
                                    <input type="checkbox" id="checkbox3" name="Industrial" value="Industrial" class="chk-connection">
                                    <label for="checkbox3"><span id="Industrial">Industrial</span></label></li>
                                <li>
                                    <input type="checkbox" id="checkbox4" name="CNG" value="CNG" class="chk-connection" checked="checked">
                                    <label for="checkbox4"><span id="CNG" class="activeType">CNG</span></label></li>
                            </ul>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                </div>*@
            <!--end inquiryform-box-->

            <div class="clearfix"></div>
            <div class="frm-bx1 row">
                <div class=" col-md-8">
                    @using (Html.BeginForm())
                    {
                        <div class="formboxx">
                            <div class="col-md-12">
                                <div>
                                    <div>
                                        <label>Type of Vehicle* : </label>
                                    </div>
                                    <div>
                                        @Html.DropDownListFor(model => model.VehilcleType, new SelectList(ViewBag.VehicleType, "ID ", "Vehical_Type1"), "Select Value", new { @class = "form-control dropdownheight" })
                                        @Html.ValidationMessageFor(model => model.VehilcleType, null, new { @class = "danger" })
                                    </div>
                                </div>
                                <div class="informationcheckbox">
                                    <div>
                                        <label>Vehicle Category* : </label>
                                    </div>
                                    @if (Model.VehicleCatagory == "New")
                                    {
                                        <label class="iconmark">
                                            New
                                            <input type="checkbox" checked="checked" value="New" class="chk-VehicleCategory">
                                            <span class="checkmark"></span>
                                        </label>

                                        <label class="iconmark">
                                            Old
                                            <input type="checkbox" value="Old" class="chk-VehicleCategory" id="ChkOld">
                                            <span class="checkmark"></span>
                                        </label>
                                    }
                                    else
                                    {
                                        <label class="iconmark">
                                            New
                                            <input type="checkbox" value="New" class="chk-VehicleCategory">
                                            <span class="checkmark"></span>
                                        </label>

                                        <label class="iconmark">
                                            Old
                                            <input type="checkbox" value="Old" checked="checked" class="chk-VehicleCategory" id="ChkOld">
                                            <span class="checkmark"></span>
                                        </label>
                                    }
                                    @Html.HiddenFor(model => model.VehicleCatagory)
                                </div>
                            </div>
                            <div class="clearfix"></div>
                        </div>

                        <div class="formboxx">
                            <div class="col-md-2">
                                <div>
                                    <div>
                                        <label>Title :</label>
                                    </div>
                                    <div>
                                        <select class="form-control dropdownheight" id="Title" name="Title">
                                            <option>Select Value</option>
                                            <option>Mr.</option>
                                            <option>Mrs.</option>
                                            <option>Ms.</option>
                                        </select>
                                        <label id="TitleMessage" style="color: red; display: none">Title Required.</label>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-5">
                                <div>
                                    <div>
                                        <label>First Name* : </label>
                                    </div>
                                    <div>
                                        @Html.TextBoxFor(model => model.Name_first, null, new { @class = "form-control" })
                                        @Html.ValidationMessageFor(model => model.Name_first, null, new { @class = "danger" })
                                    </div>
                                </div>

                            </div>

                            <div class="col-md-5">
                                <div>
                                    <label>Last Name* : </label>
                                </div>
                                <div>
                                    @Html.TextBoxFor(model => model.Name_last, null, new { @class = "form-control" })
                                    @Html.ValidationMessageFor(model => model.Name_last, null, new { @class = "danger" })
                                </div>
                            </div>
                            <div class="clearfix"></div>
                            <br />
                            <div class="col-md-8">
                                <div>
                                    <div>
                                        <label>Contact Number* : </label>
                                    </div>
                                    <div>
                                        @Html.TextBoxFor(model => model.Mob_number, null, new { @class = "form-control" })
                                        @Html.ValidationMessageFor(model => model.Mob_number, null, new { @class = "danger" })
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                            </div>
                            <div class="clearfix"></div>
                            <br />
                            <div class="col-md-8">
                                <div>
                                    <div>
                                        <label id="email-label">Email-ID : </label>
                                    </div>
                                    <div>
                                        @Html.TextBoxFor(model => model.Smtp_addr, null, new { @class = "form-control" })
                                        @Html.ValidationMessageFor(model => model.Smtp_addr, null, new { @class = "danger" })
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                            </div>
                            <div class="clearfix"></div>
                        </div>
                        <div class="clearfix"></div>
                        <div class="formboxx">
                            <div class="col-md-12">
                                <div>
                                    <div>
                                        <label>City* : </label>
                                    </div>
                                    <div>
                                        @Html.DropDownListFor(model => model.Regioarea, new SelectList(ViewBag.City, "CityId", "CityName"), "Select Value", new { @class = "form-control dropdownheight" })
                                        @Html.ValidationMessageFor(model => model.Regioarea, null, new { @class = "danger" })
                                        @Html.HiddenFor(model => model.City1, (string)ViewBag.City1)
                                    </div>
                                </div>
                            </div>
                            <div class="clearfix"></div>
                            <br />
                            <div class="col-md-12">
                                <div>
                                    <div>
                                        <label>Region* : </label>
                                    </div>
                                    <div>
                                        @Html.DropDownListFor(model => model.RegioGroup, new SelectList(ViewBag.Region, "RegionId", "RegionName"), "Select Value", new { @class = "form-control dropdownheight" })
                                        @Html.ValidationMessageFor(model => model.RegioGroup, null, new { @class = "danger" })
                                        @Html.HiddenFor(model => model.GroupDesc, (string)ViewBag.GroupDesc)
                                    </div>
                                </div>
                            </div>
                            <div class="clearfix"></div>
                        </div>
                        <div class="clearfix"></div>
                        <div class="formboxx">
                            <div class="col-md-12">
                                <div>
                                    <div>
                                        <label>Vehicle Company* : </label>
                                    </div>
                                    <div>
                                        @Html.DropDownListFor(model => model.VehicleMake, new SelectList(ViewBag.VehicleMake, "ID ", "Vehical_Type1"), "Select Value", new { @class = "form-control dropdownheight" })
                                        @Html.ValidationMessageFor(model => model.VehicleMake, null, new { @class = "danger" })
                                    </div>
                                </div>
                            </div>
                            <div class="clearfix"></div>
                            <br />

                            <div class="col-md-12">
                                <div>
                                    <div>
                                        <label>Vehicle Model</label>
                                        <label id="lblVehicleModelReqInd" style="display: none">*</label>
                                        :
                                    </div>
                                    <div>
                                        @Html.DropDownListFor(model => model.VehicleModel, new SelectList(ViewBag.VehicleModel, "ID ", "Vehical_Type1"), "Select Value", new { @class = "form-control dropdownheight" })
                                        @Html.ValidationMessageFor(model => model.VehicleModel, null, new { @class = "danger" })
                                    </div>
                                </div>
                            </div>
                            <div class="clearfix"></div>
                            <br />
                            <div class="col-md-12">
                                <div>
                                    <div>
                                        <label>Vehicle Number</label>
                                        <label id="lblVehicleNumberReqInd" style="display: none">*</label>
                                        :

                                    </div>
                                    <div>
                                        @Html.TextBoxFor(model => model.VehicleNumber, null, new { @class = "form-control" })
                                        @Html.ValidationMessageFor(model => model.VehicleNumber, null, new { @class = "danger" })
                                    </div>
                                </div>
                            </div>
                            <div class="clearfix"></div>
                            <br />
                            <div class="col-md-8">
                                <div>
                                    <div>
                                        <label>OTP* : </label>
                                    </div>
                                    <div>
                                        @Html.TextBox("OTP", null, new { @class = "form-control" })
                                        @Html.ValidationMessage("OTP", null, new { @class = "danger" })
                                        @Html.Hidden("RealOTP");
                                    </div>
                                </div>

                            </div>
                            <div class="col-md-4">
                                <button type="button" id="btnSendOtp">Send OTP</button>
                            </div>
                            <div class="clearfix"></div>
                        </div>
                        <div class="clearfix"></div>

                        <button type="submit" onclick="return AssignHiddenValues()">Save</button>
                    }
                </div>

                <!--end formboxx-->
                <div class=" col-md-4 rightsidebar">
                    <div class="widgetbox">
                        <img src="/images/AdaniGas/img1.jpg">
                        <div class="clearfix"></div>
                    </div>
                    <div class="widgetbox">
                        <img src="/images/AdaniGas/img2.jpg">
                        <div class="clearfix"></div>
                    </div>
                    <div class="widgetbox">
                        <img src="/images/AdaniGas/img3.jpg">
                        <div class="clearfix"></div>
                    </div>
                    <div class="widgetbox">
                        <img src="/images/AdaniGas/img4.jpg">
                        <div class="clearfix"></div>
                    </div>
                    <div class="clearfix"></div>
                </div>
                <div class="clearfix"></div>
            </div>
            <!--end-->



            <div class="clearfix"></div>
        </div>
        <div class="clearfix"></div>
    </div>
    <!-- end inquiryform-->
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
<script>
    var jQ = jQuery.noConflict(true);
    jQ(document).ready(function () {
        if ('@Model.VehicleCatagory' == "Old") {
            jQ("#lblVehicleNumberReqInd").show();
        }
        else {
            jQ("#lblVehicleNumberReqInd").hide();
        }

        if ('@ViewBag.CustomerTitle' != "") {
            jQ("#Title").val('@ViewBag.CustomerTitle').change();
        }

        @*if ('@Model.VehilcleType' != null && '@Model.VehilcleType.ToLower()' == "car") {
            jQ("#lblVehicleModelReqInd").show();
        }
        else {
            jQ("#lblVehicleModelReqInd").show();
        }*@

        if ('@ViewBag.Message' != '') {
            jQuery.noConflict();
            jQ('#msgarea').html('@ViewBag.Message');
            jQ('#Messagepopup1').modal('show');
        }

        jQ(".chk-connection").change(function () {
            var currentselect = jQ(this).val();
            jQ('.activeType').removeClass('activeType');

            jQ(".chk-connection").each(function () {
                if (currentselect != jQ(this).val()) {
                    jQ(this).attr('checked', false);
                    jQ("#" + currentselect).addClass('activeType');
                }
            });

            jQ(this).attr('checked', true);
        })

        jQ(".chk-VehicleCategory").change(function () {

             
            var currentselect = jQ(this).val();
            jQ('.activeType').removeClass('activeType');
            jQ(".chk-VehicleCategory").prop('checked', false);
            jQ(this).prop('checked', true);
            jQ("#" + currentselect).addClass('activeType');
            //jQ(".chk-VehicleCategory").each(function () {
            //    if (currentselect != jQ(this).val()) {
            //        jQ(this).prop('checked', false);
            //        jQ("#" + currentselect).addClass('activeType');
            //    }
            //});
            jQ("#VehicleCatagory").val(currentselect);
            jQ(this).attr('checked', true);

            if (currentselect == "Old") {
                jQ("#lblVehicleNumberReqInd").show();
            }
            else {
                jQ("#lblVehicleNumberReqInd").hide();
            }

        })
    });

    jQ("#Regioarea").change(function () {
        jQ("#RegioGroup").empty().append();
        var cityid = jQ(this).val();
        jQ.ajax({
            type: "GET",
            url: '/api/AdaniGas/GetRegion',
            data: { "CityId": cityid },
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            async: false,
            success: function (data) {
                jQ.each(data, function () {
                    jQ("#RegioGroup").append(jQ("<option/>").val(this.RegionId).text(this.RegionName));
                });
            },
            failure: function () {
                alert("Failed!");
            }
        });
    })

    jQ("#VehilcleType").change(function () {
        jQ("#VehicleMake").empty().append();
        var cityid = jQ(this).val();
        jQ.ajax({
            type: "GET",
            url: '/api/AdaniGas/GetVehicleMake',
            data: { "VehicleType": cityid },
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            async: false,
            success: function (data) {
                jQ("#VehicleMake").append(jQ("<option/>").val("Select Value").text("Select Value"));
                jQ.each(data, function () {
                    jQ("#VehicleMake").append(jQ("<option/>").val(this.ID).text(this.Vehical_Type1));
                });

                var areaId = jQ("option:selected", jQ("#VehicleMake")).val();
                GetVehicleModel(areaId);
            },
            failure: function () {
                alert("Failed!");
            }
        });

        if (cityid.toLowerCase() == "car") {
            jQ("#lblVehicleModelReqInd").show();
        }
        else {
            jQ("#lblVehicleModelReqInd").hide();
        }
    })

    jQ("#VehicleMake").change(function () {
        var vehiclemakeid = jQ(this).val();
        GetVehicleModel(vehiclemakeid);
    })

    function GetVehicleModel(vehiclemakeid) {
        jQ("#VehicleModel").empty().append();
        var vehiclemake = vehiclemakeid;
        var vehicletype = jQ("#VehilcleType").val();
        jQ.ajax({
            type: "GET",
            url: '/api/AdaniGas/GetVehicleModel',
            data: { "VehicleType": vehicletype, "VehicleMake": vehiclemake },
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            async: false,
            success: function (data) {
                jQ("#VehicleModel").append(jQ("<option/>").val("Select Value").text("Select Value"));
                jQ.each(data, function () {
                    jQ("#VehicleModel").append(jQ("<option/>").val(this.ID).text(this.Vehical_Type1));
                });
            },
            failure: function () {
                alert("Failed!");
            }
        });
    }

    jQ(document).ready(function () {
        jQ("#btnSendOtp").click(function () {
            if (jQ("#Mob_number").val() != '') {
                jQ.ajax({
                    type: "GET",
                    url: '/api/AdaniGas/GetOTP',
                    data: { "MobileNo": jQ("#Mob_number").val() },
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    async: false,
                    success: function (data) {
                        jQ("#RealOTP").val(data);
                        var message = "The OTP has been sent to " + jQ("#Mob_number").val() + " It is valid for 10 minutes.";
                        //alert(message);
                        jQuery.noConflict();
                        jQ('#msgarea').html(message);
                        jQ('#Messagepopup1').modal('show');
                    },
                    failure: function () {
                        alert("Failed!");
                    }
                });
            }
        })
    });

    function AssignHiddenValues() {
        jQ("#Street").val(jQ("option:selected", jQ("#Society")).text());
        jQ("#City1").val(jQ("option:selected", jQ("#Regioarea")).text());
        jQ("#GroupDesc").val(jQ("option:selected", jQ("#RegioGroup")).text());
        //jQ("#HouseTypeValue").val(jQ("option:selected", jQ("#HouseTypeId")).text());

        if (jQ("option:selected", jQ("#Title")).text() == "Select Value") {
            jQ("#TitleMessage").show();
            jQ("#Title").css("border-color", "red");
            return false;
        }
        else {
            jQ("#Title").css("border-color", "#ccc");
            jQ("#TitleMessage").hide();
            return true;
        }
    }
</script>