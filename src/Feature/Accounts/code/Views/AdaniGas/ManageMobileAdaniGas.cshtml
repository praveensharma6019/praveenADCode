@using Sitecore.Foundation.Dictionary.Extensions
@using Sitecore.Foundation.SitecoreExtensions.Extensions
@using Sitecore.Mvc.Configuration
@model Sitecore.Feature.Accounts.Models.ManageMobileAdaniGas


@using (Html.BeginRouteForm(MvcSettings.SitecoreRouteName, FormMethod.Post, new { }))
{
    @Html.AddUniqueFormId()
	@Html.AntiForgeryToken()
    @Html.ValidationSummary(true)
    <!-- Toggle button to show/hide side nav -->
    <div class="d-block d-md-none sideNavBtn">
        <button type="button" id="sidebarCollapse" class="btn btn-secondary">
            <i class="fas fa-align-left"></i>
            <span>&nbsp;Menu</span>
        </button>
    </div>
    <!-- /Toggle button to show/hide side nav -->
    <div class="clearfix"></div>
    <!-- Update Profile Page Content-->
    <div class="panel">
<h3 class="mb-3">Manage Mobile Numbers</h3>

        <div class="row">
            <div class="col-lg-4 col-md-6">
                <div class="form-group">
                    <label>@Html.Sitecore().Dictionary("/Accounts/Manage Mobile/New Mobile Number", "New Mobile Number")<span class="txt-red">*</span></label>
                    @Html.TextBoxFor(x => x.NewMobileNumber, new { @class = "form-control", required = "required" })
                    @Html.ValidationMessageFor(x => x.NewMobileNumber, "", new { @class = "help-block" }, "p")
                </div>
            </div>
            <div class="col-lg-12">
                <div class="btn-group" role="group" aria-label="Basic example">
                    <button type="submit" class="btn btn-primary mr-2">Add</button>
                    <button type="button" class="btn btn-secondary">Cancel</button>
                </div>
            </div>
            <br />
            <br />
            <div class="col-lg-12 mt-2">
                <div class="form-group">
                    <table class="table table-bordered table-hover">
                        <thead>
                            <tr>
                                <th>Registered Mobile Number</th>
                                <th>Edit</th>
                                <th>Delete</th>
                            </tr>
                        </thead>
                        <tbody class="tbody">
                            @foreach (var mobile in Model.MobileNumbersList)
                            {
                                <tr>
                                    <td>
                                        @mobile.MobileNo.ToString()
                                    </td>
                                    <td>
					<a href="#" class="txt-orange" title="Edit" onclick="EditMobile('@mobile.MobileNo');"><i class="fas fa-edit" style=""></i></a>
                                        <!--<input type="button" class="btn btn-primary" onclick="EditMobile('@mobile.MobileNo');" value="Edit" />-->
                                    </td>
                                    <td>
					<a href="#" class="txt-orange" title="Delete" onclick="DeleteMobile(@mobile.MobileNo);"><i class="fas fa-trash-alt" style=""></i></a>
                                        <!--<input type="button" class="btn btn-primary" onclick="DeleteMobile(@mobile.MobileNo);" value="delete">-->
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
}

<!-- Modal Popup -->
<div id="EditMobileModal" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Modify Mobile Number</h4>
                <button type="button" class="close" data-dismiss="modal">
                    &times;
                </button>

            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-lg-12 col-md-12">
                        <div class="form-group">
                            <label>@Html.Sitecore().Dictionary("/Accounts/Manage Mobile/Old Mobile Number", "Old Mobile Number")<span class="txt-red">*</span></label>
                            <input class="form-control" id="oldMobileNumber" type="text" value="" readonly />
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12 col-md-12">
                        <div class="form-group">
                            <label>@Html.Sitecore().Dictionary("/Accounts/Manage Mobile/New Mobile Number", "New Mobile Number")<span class="txt-red">*</span></label>
                            <input class="form-control" id="newMobileNumber" type="text" value="" required />
                            <span class="help-block txt-red" id="newMobileNumberError"></span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" onclick="UpdateMobile();">Update</button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
<!-- Modal Popup -->
