@using Sitecore.Foundation.Dictionary.Extensions
@using Sitecore.Foundation.SitecoreExtensions.Extensions
@using Sitecore.Mvc.Configuration
@using Sitecore.Feature.Accounts
@model Sitecore.Feature.Accounts.Models.PayVDS

<!-- Toggle button to show/hide side nav -->
<div class="d-block d-md-none sideNavBtn">
    <button type="button" id="sidebarCollapse" class="btn btn-secondary">
        <i class="fas fa-align-left"></i>
        <span>&nbsp;Menu</span>
    </button>
</div>
<!-- /Toggle button to show/hide side nav -->
<div class="clearfix"></div>
<!-- Update Profile Page Content-->
<div class="panel">
    @if (ViewBag.VDSMessage != null)
    {
        <p>@ViewBag.VDSMessage</p>
    }
    else
    {
        <h5 class="txt-orange">VDS</h5>
        <br />

        using (Html.BeginRouteForm(MvcSettings.SitecoreRouteName, FormMethod.Post, new { id = "frmPaymentVDS", @class = "form-signin" }))
        {
            @Html.AddUniqueFormId()
            @Html.AntiForgeryToken()
            <p>Your minimum amount for VDS payment is Rs. <b>@Html.DisplayFor(x => x.AverageVDSAmount, new { @class = "form-control-plaintext", @readonly = "" })</b></p>
            <p>and maximum amount for VDS payment is Rs. <b>@Html.DisplayFor(x => x.MaxVDSAmount, new { @class = "form-control-plaintext", @readonly = "" })</b></p>
            <p>* Payable maximum should be in multiple of 500</p>
            <div class="py-3"></div>
           
            @Html.HiddenFor(x => x.PaymentMode)
            @Html.HiddenFor(x => x.AverageVDSAmount)
            @Html.HiddenFor(x => x.LoginName)
            <div class="form-group row">
                <label for="" class="col-sm-4 col-md-3 col-form-label">
                    @Html.Sitecore().Dictionary("/Accounts/View Pay Bill/Account Number", "Account Number")
                </label>
                <div class="col-sm-8 col-lg-6">
                    @Html.TextBoxFor(x => x.AccountNumber, new { @class = "form-control-plaintext", id = "AccountNumber", @readonly = "" })
                </div>
            </div>
            <div class="form-group row">
                <label for="" class="col-sm-4 col-md-3 col-form-label">
                    @Html.Sitecore().Dictionary("/Accounts/View Pay Bill/PaymentAmount", "Payment Amount")<span class="required">*</span>
                </label>
                <div class="col-sm-8 col-lg-6">
                    @Html.TextBoxFor(x => x.PaymentAmount, new { @class = "form-control", required = "required" })
                    @Html.ValidationMessageFor(x => x.PaymentAmount, "", new { @class = "help-block" }, "p")
                </div>
            </div>
            <div class="form-group row">
                <label for="" class="col-sm-4 col-md-3 col-form-label">
                    @Html.Sitecore().Dictionary("/Accounts/View Pay Bill/MobileNo", "Mobile No")<span class="required">*</span>
                </label>
                <div class="col-sm-8 col-lg-6">
                    @Html.TextBoxFor(x => x.MobileNumber, new { @class = "form-control", required = "required" })
                    @Html.ValidationMessageFor(x => x.MobileNumber, "", new { @class = "help-block" }, "p")
                </div>
            </div>
            <div class="form-group row">
                <label for="" class="col-sm-4 col-md-3 col-form-label">
                    @Html.Sitecore().Dictionary("/Accounts/View Pay Bill/Address", "Email Address")<span class="required">*</span>
                </label>
                <div class="col-sm-8 col-lg-6">
                    @Html.TextBoxFor(x => x.EmailAddress, new { @class = "form-control", required = "required" })
                    @Html.ValidationMessageFor(x => x.EmailAddress, "", new { @class = "help-block" }, "p")
                </div>
            </div>
            <div class="form-group row">
                <label for="" class="col-sm-4 col-md-3 col-form-label">
                    @Html.Sitecore().Dictionary("/Accounts/View Pay Bill/PANNo", "PAN No")<span class="required">*</span>
                </label>
                <div class="col-sm-8 col-lg-6">
                    @Html.TextBoxFor(x => x.PANNo, new { @class = "form-control", required = "required" })
                    @Html.ValidationMessageFor(x => x.PANNo, "", new { @class = "help-block" }, "p")
                </div>
            </div>
            <div class="form-group row">
                <div class="col-sm-3">
                </div>
                <div class="col-sm-9">
                    <button type="submit" class="btn btn-primary">Pay Now</button>
                </div>
            </div>
        }
        <div class="form-group row">
            <h6><b>Terms and Conditions</b></h6>
        </div>
        <br />
        <div class="form-group row">
            <p>1) The deposit will earn you interest @@ 7% p.a. from the date of deposit on the diminishing balance after adjusting monthly bills. This will be done on the due date of every month's bill.</p>
            <p>2) Customers shall earn a Prompt Payment Incentive of 1% on the energy bill(excluding taxes and duties). Under this scheme, deduction of monthly bill amount by VDS will take place 7 days from the date of the bill. This incentive will be reflected in the subsequent month's bill after successful VDS operations.</p>
            <p>3) The accumulated interest as on 31st March, after deduction of Income Tax(TDS) if any, will be credited once a year to your energy account in your April month bill. In case the deposit amount is exhausted during the year, accumulated interest after deduction of Income Tax(TDS), if any, will be adjusted in the energy bill.</p>
            <p>4) '# VDS' will appear on your electricity bill with VDS balance on monthly electricity bill paid by VDS. If your VDS balance is not enough to pay current month's bill '# No VDS' will appear on your bill, In such cases the bill is to be paid by another payment mode till the time VDS amount is renewed.</p>
            <p>5) No refund of the deposit will be made unless the customer moves out o the supply area of REL.</p>
            <p>6) No interest is payable for the financial year, if the deposit is refunded to the customer during the year.</p>
        </div>

    }
</div>