@using Sitecore.Mvc
@using Sitecore.Mvc.Presentation
@using Sitecore.Data.Items
@using Adani.SuperApp.Airport.Foundation.SitecoreHelper.Platform.Helper
@model RenderingModel
@{
    Item currentItem = RenderingContext.Current.Rendering.Item;
    Helper linkHelepr = new Helper();
}

<section class="cate-section immigrations-procedures mt-0" auto_id="@Html.Sitecore().Field("AutoId", currentItem)">
    @foreach (Item slideItem in currentItem.Children)
    {
        <div class="serviceSlide scrollableOffset" id="@slideItem.DisplayName">
            <h3 class="page-title">@Html.Sitecore().Field("Title", slideItem)</h3>
            <p class="mainDisc">
                @Html.Sitecore().Field("SubText", slideItem)
            </p>
            <div class="detailsBox">
                @Html.Sitecore().BeginField("Link", slideItem, new { @haschildren = true, @class = "zoomEffect" })
                <div class="imgWrap" style="width:100%">
                    @{
                        Sitecore.Data.Fields.ImageField slideImg = ((Sitecore.Data.Fields.ImageField)slideItem.Fields["Image"]);
                        string imageUrl = slideImg != null && slideImg.MediaItem != null ? Sitecore.Resources.Media.MediaManager.GetMediaUrl(slideImg.MediaItem) : "";
                    }
                    <img src="@imageUrl" />
                </div>
                @Html.Sitecore().EndField()
                <div class="contentWrap pt-0">
                    @Html.Sitecore().Field("RichText", slideItem)
                    <span class="black_link">@linkHelepr.GetLinkText(slideItem, "Link")</span>
                </div>
            </div>
            
        </div>

    }
</section>
