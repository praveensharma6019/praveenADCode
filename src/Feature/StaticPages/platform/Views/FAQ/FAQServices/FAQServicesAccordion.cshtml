@using Sitecore.Mvc
@using Sitecore.Mvc.Presentation
@using Sitecore.Data.Items
@model RenderingModel
@{ 
    Item currentItem = RenderingContext.Current.Rendering.Item;
    Item contextItem = RenderingContext.Current.ContextItem;
    var i = 0;
}

@if (currentItem != null && contextItem!=null)
{
    <div class="subSection scrollableOffset" id="faq">    
    <div class="accordion" id="accordionExample">

        @foreach (Item faqItem in currentItem.Children)
        {
		<input type="hidden" id="feedbackAnswer"  value="@Html.Sitecore().Field("FeedbackAnswer", faqItem)">
                <div class="accordion-item">
                    <div class="accordion-header" id="heading@(i)">
                        <button class="accordion-button collapsed"
                                data-id="@faqItem.DisplayName"
                                type="button"
                                data-bs-toggle="collapse"
                                data-bs-target="#collapse@(i)"
                                aria-expanded="false"
                                aria-controls="collapse@(i)">
                            @Html.Sitecore().Field("Question", faqItem)
                        </button>

                        <div id="collapse@(i)"
                             class="accordion-collapse collapse"
                             aria-labelledby="heading@(i)"
                             data-bs-parent="#accordionExample">
                            <div class="accordion-body">
                                @Html.Sitecore().Field("Answer", faqItem)
								<div class="acceptenceBtn">
                                <p>@Html.Sitecore().Field("FeedbackTitle", contextItem)</p>
                                <div class="btnWrap">                                   
									<button type="btn" class="helpfullBtn" onclick="acceptenceFun(this,'@Html.Sitecore().Field("FeedbackAnswer", contextItem)')">@Html.Sitecore().Field("Yes", contextItem)</button>
                                    <button type="btn" class="helpfullBtn" onclick="acceptenceFun(this,'@Html.Sitecore().Field("FeedbackAnswer", contextItem)')">@Html.Sitecore().Field("No", contextItem)</button>
                                </div>
                            </div>
                            </div>
                            
                        </div>
                    </div>
                </div> 
            i++;
        }
		
    </div>
</div>
}
