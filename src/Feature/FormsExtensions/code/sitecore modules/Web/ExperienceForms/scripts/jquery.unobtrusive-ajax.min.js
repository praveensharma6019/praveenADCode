!function(d){var s="unobtrusiveAjaxClick",c="unobtrusiveAjaxClickTarget";function p(t,a){for(var e=window,r=(t||"").split(".");e&&r.length;)e=e[r.shift()];return"function"==typeof e?e:(a.push(t),Function.constructor.apply(null,a))}function l(t){return"GET"===t||"POST"===t}function f(u,t){var a,n,i,o;(a=u.getAttribute("data-ajax-confirm"))&&!window.confirm(a)||(n=d(u.getAttribute("data-ajax-loading")),o=parseInt(u.getAttribute("data-ajax-loading-duration"),10)||0,d.extend(t,{type:u.getAttribute("data-ajax-method")||void 0,url:u.getAttribute("data-ajax-url")||void 0,cache:"true"===(u.getAttribute("data-ajax-cache")||"").toLowerCase(),beforeSend:function(t){var a,e,r;return e=t,l(r=i)||e.setRequestHeader("X-HTTP-Method-Override",r),!1!==(a=p(u.getAttribute("data-ajax-begin"),["xhr"]).apply(u,arguments))&&n.show(o),a},complete:function(){n.hide(o),p(u.getAttribute("data-ajax-complete"),["xhr","status"]).apply(u,arguments)},success:function(t,a,e){var r,n,i;r=u,n=t,-1===(e.getResponseHeader("Content-Type")||"text/html").indexOf("application/x-javascript")&&(i=(r.getAttribute("data-ajax-mode")||"").toUpperCase(),d(r.getAttribute("data-ajax-update")).each(function(t,a){switch(i){case"BEFORE":d(a).prepend(n);break;case"AFTER":d(a).append(n);break;case"REPLACE-WITH":d(a).replaceWith(n);break;default:d(a).html(n)}})),p(u.getAttribute("data-ajax-success"),["data","status","xhr"]).apply(u,arguments)},error:function(){p(u.getAttribute("data-ajax-failure"),["xhr","status","error"]).apply(u,arguments)}}),i=t.type.toUpperCase(),t.data instanceof FormData?(t.processData=!1,t.contentType=!1,t.data.append("X-Requested-With","XMLHttpRequest"),l(i)||(t.type="POST",t.data.append("X-HTTP-Method-Override",i))):(t.data.push({name:"X-Requested-With",value:"XMLHttpRequest"}),l(i)||(t.type="POST",t.data.push({name:"X-HTTP-Method-Override",value:i}))),d.ajax(t))}d(document).on("click","a[data-ajax=true]",function(t){t.preventDefault(),f(this,{url:this.href,type:"GET",data:[]})}),d(document).on("click","form[data-ajax=true] input[type=image]",function(t){var a=t.target.name,e=d(t.target),r=d(e.parents("form")[0]),n=e.offset();r.data(s,[{name:a+".x",value:Math.round(t.pageX-n.left)},{name:a+".y",value:Math.round(t.pageY-n.top)}]),setTimeout(function(){r.removeData(s)},0)}),d(document).on("click","form[data-ajax=true] :submit",function(t){var a=t.currentTarget.name,e=d(t.target),r=d(e.parents("form")[0]);r.data(s,a?[{name:a,value:t.currentTarget.value}]:[]),r.data(c,e),setTimeout(function(){r.removeData(s),r.removeData(c)},0)}),d(document).on("submit","form[data-ajax=true]",function(t){var a=d(this).data(s)||[],e=d(this).data(c),r=e&&(e.hasClass("cancel")||void 0!==e.attr("formnovalidate"));if(t.preventDefault(),r||(!(n=d(this).data("unobtrusiveValidation"))||!n.validate||n.validate())){var n,i;if(this.enctype&&"multipart/form-data"===this.enctype){i=new FormData(this);for(var u=0;u<a.length;u++)if(i.has(a[u].name)){var o=i.get(a[u].name);i.set(a[u].name,a[u].value),i.append(a[u].name,o)}else i.append(a[u].name,a[u].value)}else i=a.concat(d(this).serializeArray());f(this,{url:this.action,type:this.method||"GET",data:i})}})}(jQuery);