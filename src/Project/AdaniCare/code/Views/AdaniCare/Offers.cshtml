@using Sitecore.Mvc
@using Sitecore.Mvc.Presentation
@using Sitecore.Mvc.Helpers
@using Sitecore.Foundation.Dictionary.Extensions
@using Sitecore.Foundation.SitecoreExtensions.Extensions
@using Sitecore.AdaniCare.Website
@using Sitecore.Foundation.Alerts
@using Sitecore.Foundation.Alerts.Extensions

@model Sitecore.Mvc.Presentation.RenderingModel

@{
    var datasource = Sitecore.Mvc.Presentation.RenderingContext.Current.Rendering.DataSource;
    var model = Sitecore.Context.Database.GetItem(datasource);

    //var parameter = Sitecore.Mvc.Presentation.RenderingContext.Current.Rendering.Parameters["Type"];
    var homeitem = Sitecore.Context.Site.GetStartItem();
    var offers = homeitem.Axes.GetDescendants().Where(x => x.TemplateID == Templates.Offers.ID).ToList().OrderBy(x => x.Appearance.Sortorder);
}

<section class="bg-white py-5 offers_tab">
    <div class="container">
        <h2 class="text-center section-heading text-blue">Best Offers</h2>
        @if (offers != null)
        {
            <div class="row mt-4 mt-lg-5">
                @foreach (var item in offers)
                {
                    var typeName = string.Empty;
                    var URLLink = string.Empty;
                    var target = string.Empty;
                    //target = item.Fields[Templates.Offers.Fields].IsChecked() ? "_blank" : "";
                    //if (item.Fields[Templates.Navigable.Fields.IsExternalLink].IsChecked())
                    //{
                    //    URLLink = item.LinkFieldUrl(Templates.Navigable.Fields.Link).ToString();
                    //}
                    //else
                    //{
                    URLLink = ""; // item.Url();
                                  //}

                    var offercompany = item.GetMultiListValueItems(Templates.Offers.Fields.Company).FirstOrDefault();
                    string linkUrl = Sitecore.Links.LinkManager.GetItemUrl(item);
                    var offercompanyName = item.Fields["OfferCompany"];
                    <div class="col-lg-4 col-md-6 mb-4">
                        <div class="offer_main">
                            <div class="offer_main-thumb">
                                <p>@offercompanyName</p>
                                @Html.Sitecore().Field(Templates.Offers.Fields.Image, item, new { @class = "img-fluid" })
                                <div class="offer_main-views">
                                </div>
                            </div>
                            <div class="offer_main-description">
                                <h3><a href="@linkUrl"> @Html.Sitecore().Field(Templates.Offers.Fields.Heading, item)</a></h3>
                                <p> @Html.Sitecore().Field(Templates.Offers.Fields.ShortDescription, item)</p>
                                <div><div class=""><p><a href="@linkUrl">Claim Now <span class="fa fa-angle-right"></span></a></p></div></div>
                                <div class="clearfix"></div>
                            </div>
                        </div>
                    </div>
                }
            </div>
        }
          </div>
</section>