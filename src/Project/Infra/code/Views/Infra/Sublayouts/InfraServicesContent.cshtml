@using Sitecore.Mvc
@using Sitecore.Mvc.Presentation
@using Sitecore.Foundation.SitecoreExtensions.Extensions
@{

    var datasource = Sitecore.Mvc.Presentation.RenderingContext.Current.Rendering.DataSource;
    var parent = Sitecore.Context.Database.GetItem(datasource);
    var i = 1;
    var j = 1;
    var k = 1;
        }

<section class="pt-5 bg-services">
    <div class="bg-images">
        @Html.Sitecore().ImageField("Image", parent)
    </div>
    <div class="container">
        <h2 class="border-l txt-black position-relative mb-4 txt-heading">@Html.Sitecore().Field("Title", parent)</h2>
        <!-- Nav tabs -->
        <ul id="tabs" class="nav nav-tabs our-services" role="tablist">
            @foreach (var item in parent.Children.ToList())
            {
                <li class="nav-item">
                    <a id="tab-@i" href="#pane-@i" class="nav-link" data-toggle="tab" role="tab">
                        <div class="py-3 my-3 stats">
                      
                            @Html.Sitecore().ImageField("Image", item, 0, 0, "mb-2 img-fluid")
                            <p>@Html.Sitecore().Field("Title", item)</p>
                        </div>
                    </a>
                </li>
                i++;
            }
               
            </ul>
    </div>
</section>


<section class="pb-5 services-container-tab">
    <div class="container">
        <!-- Tab panes -->
        <div id="content" class="tab-content" role="tablist">
            @foreach (var items in parent.Children.ToList())
            {
                if (k == 3)
                {
                    <div id="pane-@j" class="card tab-pane fade show active" role="tabpanel" aria-labelledby="tab-@j">
                        <div class="card-header" role="tab" id="heading-@j">
                            <h5 class="mb-0">
                                <!-- Note: `data-parent` removed from here -->
                                <a data-toggle="collapse" href="#collapse-@j" aria-expanded="true" aria-controls="collapse-@j">
                                    @Html.Sitecore().Field("Title", items)
                                </a>
                            </h5>
                        </div>

                        <!-- Note: New place of `data-parent` -->
                        <div id="collapse-@j" class="collapse" data-parent="#content" role="tabpanel" aria-labelledby="heading-@j">
                            <div class="card-body">
                                @Html.Sitecore().Field("Body", items)
                            </div>
                        </div>
                    </div>
                }
                else
                {
                    <div id="pane-@j" class="card tab-pane fade" role="tabpanel" aria-labelledby="tab-@j">
                        <div class="card-header" role="tab" id="heading-@j">
                            <h5 class="mb-0">
                                <!-- Note: `data-parent` removed from here -->
                                <a data-toggle="collapse" href="#collapse-@j" aria-expanded="true" aria-controls="collapse-@j">
                                    @Html.Sitecore().Field("Title", items)
                                </a>
                            </h5>
                        </div>

                        <!-- Note: New place of `data-parent` -->
                        <div id="collapse-@j" class="collapse" data-parent="#content" role="tabpanel" aria-labelledby="heading-@j">
                            <div class="card-body">
                                @Html.Sitecore().Field("Body", items)
                            </div>
                        </div>
                    </div>

                }
                k++;
                j++;
            }




        </div>
    </div>
</section>