$(document).ready(function(){
	
	$('.hero-banner').owlCarousel({
        loop: false,
        margin: 0,
        responsiveClass: true,
        autoplay: true,
        autoplaytimeout: 800,
        autoplayHoverPause: true,
		items: 1,
		nav: false,
		dots: true
    });
	
	$('.inner-banner').owlCarousel({
        loop: false,
        margin: 0,
        responsiveClass: true,
        autoplay: true,
        autoplaytimeout: 800,
        autoplayHoverPause: true,
		items: 1,
		nav: false,
		dots: true
    });
	$('.wholesale-finance').owlCarousel({
        loop: false,
        margin: 0,
        responsiveClass: true,
        autoplay: true,
        autoplaytimeout: 800,
        autoplayHoverPause: true,
		items: 1,
		nav: true,
		dots: false,
		navText: ["<span class='fa fa-angle-left'></span>", "<span class='fa fa-angle-right'></span>"]
    });
	$('.career_carousel').owlCarousel({
        loop: true,
        margin: 0,
        responsiveClass: true,
        autoplay: true,
        autoplaytimeout: 800,
        autoplayHoverPause: true,
		items: 1,
		nav: false,
		dots: true,
		navText: ["<span class='fa fa-angle-left'></span>", "<span class='fa fa-angle-right'></span>"]
    });
	$('#other-ventures').owlCarousel({
		loop: true,
		margin: 10,
		responsiveClass: true,
		autoplay: false,
		 autoplayTimeout: 2500,
		 navText: ["<i class='fa fa-angle-left'></i>","<i class='fa fa-angle-right'></i>"],
		 autoplayHoverPause: false,
		responsive: {
		  0: {
			items: 2,
			nav: true,
			dots:false
		  },
		  600: {
			items: 3,
			nav: true,
			dots:false
		  },
		  1000: {
			items: 7,
			nav: true,
			dots:false,
			margin: 20
		  }
		}
	  });
	
$('.campus-carousel').on('initialized.owl.carousel changed.owl.carousel', function(e) {
    if (!e.namespace)  {
      return;
    }
    var carousel = e.relatedTarget;
    $('.campus-carousel-counter').text(carousel.relative(carousel.current()) + 1 + '/' + carousel.items().length);
  }).owlCarousel({
    items: 1,
    loop:false,
    margin:0,
    nav:true,
	dots:false,
	navText: ["<span class='fa fa-arrow-left'></span>","<span class='fa fa-arrow-right'></span>"]
  });
	
$('.news_carousel').owlCarousel({
            loop: false,
            margin: 30,
            responsiveClass: true,
            autoplayTimeout: 3000,
            autoplay: true,
            nav: true,
            dots: false,
            navText: ["<span class='fa fa-arrow-left'></span>", "<span class='fa fa-arrow-right'></span>"],
            responsive: {
                0: {
                    items: 1
                },
                600: {
                    items: 2
                },
                1000: {
                    items: 3
                }
            }
        });
		
	$('.carousel_cust--stories').owlCarousel({
            loop: false,
            margin: 20,
            responsiveClass: true,
            autoplayTimeout: 3000,
            autoplay: true,
            nav: false,
            dots: true,
            responsive: {
                0: {
                    items: 1
                },
                600: {
                    items: 1
                },
                1000: {
                    items: 2
                }
            }
        });
	
});

$('#nav-button').click(function(){
	$('.fade-overlay').toggleClass('active');
	$('body').toggleClass('overflow-hidden');
	$('#back-to-top').toggleClass('d-none');
	$('.sidebar_s-icons').toggleClass('d-none');
});
$('.collapse_toggle').click(function(){
	$('.navbar-collapse').removeClass('show');
	$('.fade-overlay').toggleClass('active');
	$('body').toggleClass('overflow-hidden');
	$('#back-to-top').toggleClass('d-none');
	$('.sidebar_s-icons').toggleClass('d-none');
});

$('.fade-overlay').click(function(){
	$('.navbar-collapse').removeClass('show');
	$('.fade-overlay').toggleClass('active');
	$('body').toggleClass('overflow-hidden');
	$('#back-to-top').toggleClass('d-none');
	$('.sidebar_s-icons').toggleClass('d-none');
});

$('.sitemap-link').click(function() {
	$('footer .sitemap_visible').toggleClass('active');
    $('.sitemap-link').toggleClass('sitemap-link-active');
	$('html, body').animate({
		scrollTop: $(".sitemap-link").offset().top
			- 100
	}, 1000);
});


$('.scroll_down a').on('click', function (e) {
        var href = $(this).attr('href');
        $('html, body').animate({
            scrollTop: $(href).offset().top - 70
        }, '600');
        e.preventDefault();
    });
	
$('.section-Quick_links p').on('click', function (e) {
	$('.close').toggleClass('d-none');
	$('.open').toggleClass('d-block');
	$('.section-Quick_links').toggleClass('hide');
});
	
// Hide Header on scroll down
    var didScroll;
    var lastScrollTop = 0;
    var delta = 0;
    var navbarHeight = 0;

    $(window).scroll(function (event) {
        didScroll = true;
    });

    setInterval(function () {
        if (didScroll) {
            hasScrolled();
            didScroll = false;
        }
    }, 250);
    function hasScrolled() {
        var st = $(this).scrollTop();

        // Make sure they scroll more than delta
        if (Math.abs(lastScrollTop - st) <= delta)
            return;

        // If they scrolled down and are past the navbar, add class .nav-up.
        // This is necessary so you never see what is "behind" the navbar.
        $('#back-to-top').fadeIn();
        $('header').addClass('fixed-header');
        
        if (st > lastScrollTop && st > navbarHeight) {
            // Scroll Down
			//$('.btm-floating').addClass('active');

        } else {
            // Scroll Up
            if (st + $(window).height() < $(document).height()) {

            }
        }
        if (st < 150) {

            $('#back-to-top').hide();
            $('header').removeClass('fixed-header');
			//$('.btm-floating').removeClass('active');
        }
        lastScrollTop = st;
    }

    // scroll body to 0px on click
    $('#back-to-top').click(function () {
        $('#back-to-top').tooltip('hide');
        $('body,html').animate({
            scrollTop: 0
        }, 800);
        return false;
    });
	
	$('header .nav-item-dropdown').click(function () {
		// $('.topMenu .dropdown.active').removeClass('active');
        // $(this).toggleClass('active');
		if ( $(this).hasClass('active') ) {
			$(this).removeClass('active');
		} else {
			$('header .nav-item-dropdown').removeClass('active');
			$(this).addClass('active');
		}
    });
	
	
var $r = $('input.emi[type="range"]');
var $ruler = $('<div class="rangeslider__ruler" />');

// Initialize
$r.rangeslider({
  polyfill: false,
  onInit: function() {
    $ruler[0].innerHTML = getRulerRange(this.min, this.max, this.step);
    this.$range.prepend($ruler);}
});

function getRulerRange(min, max, step) {
  var range = '';
  var i = 1;
  
  while (i <= max) {
    range += i + ' ';
    i = i + step;
  }
  return range;
}

var $r = $('input.eligibility-range[type="range"]');
var $ruler = $('<div class="rangeslider__ruler" />');

// Initialize
$r.rangeslider({
  polyfill: false,
  onInit: function() {
    $ruler[0].innerHTML = getRulerRange(this.min, this.max, this.step);
    this.$range.prepend($ruler);}
});

function getRulerRange(min, max, step) {
  var range = '';
  var i = 1;
  
  while (i <= max) {
    range += i + ' ';
    i = i + step;
  }
  return range;
}

// Custom JS Start
function emicalculator() {
    var P = document.getElementById('loanamount').value;
    var yr = document.getElementById('interestrate').value;
    var r = ((yr / 12) / 100);
    var yn = document.getElementById('Yrs').value;
    var n = yn * 12;
    var top = Math.pow((1 + r), n);
    var payment = (P * r) * (top / (top - 1));
    var tp = n * (Math.round(payment));
    var ti = tp - P;
    var tyamt = ti * yn;
    var tiamt = ti * (yn + n);
    //var interest = (amount * (interest_rate * .01)) / months;
    //var payment = ((amount / months) + interest).toFixed(2);
    yr = yr.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
    document.getElementById('yr').innerHTML = "" + yr;

    r = (r.toFixed(4)).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
    document.getElementById('r').innerHTML = "" + r;

    yn = yn.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
    document.getElementById('tp').innerHTML = "" + tp;

    tyamt = tyamt.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
    document.getElementById('tyamt').innerHTML = "" + tyamt;

    tiamt = tiamt.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
    document.getElementById('tiamt').innerHTML = "" + tiamt;

    payment = Math.round(payment).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
    document.getElementById('payment').innerHTML = "" + payment;
}
$(function () {
    $('#zipcode').change(function () {

        var ZipValue = $(this).val();
        //var propName = $("#PropertyName option:selected").text();

        $.ajax({
            type: "GET",
            url: "/api/AdaniCapital/PincodeDetails",
            data: { Pin: ZipValue },
            success: function (obj) {
                if (obj != null) {
                    $('#state').val(obj.State);
                    $('#city').val(obj.City);
                }
                else {
                    alert("Invalid Pincode");
                }
            },
            error: function () {
                alert("Error in retrieving Pincode");
            }
        });
    });
});
var SetRatingStar = function () {
    return $star_rating.each(function () {
        if (parseInt($star_rating.siblings('input.rating-value').val()) >= parseInt($(this).data('rating'))) {
            return $(this).removeClass('far fa-star').addClass('fas fa-star');
        } else {
            return $(this).removeClass('fas fa-star').addClass('far fa-star');
        }
    });
};

$star_rating.on('click', function () {
    $star_rating.siblings('input.rating-value').val($(this).data('rating'));
    return SetRatingStar();
});

SetRatingStar();

$("#btnFeedbackSubmit").click(function () {
    //var response = grecaptcha.getResponse(recaptcha1);
    //if (response.length == 0) {
    //    alert("Captcha required.");
    //    return false;
    //}

    $('#btnFeedbackSubmit').attr("disabled", "disabled");
    var name = $("#FeedbackName").val();
    if (name == "") { alert("Please enter your Name"); $("#FeedbackName").focus(); $('#btnFeedbackSubmit').removeAttr("disabled"); return false; }
    var mailid = $("#FeedbackEmailId").val();
    if (mailid == "") { alert("Email is Required"); $("#FeedbackEmailId").focus(); $('#btnFeedbackSubmit').removeAttr("disabled"); return false; }
    var ccontactno = $("#FeedbackMobile").val();
    if (ccontactno == "") { alert("Please specify your Mobile Number"); $("#FeedbackMobile").focus(); $('#btnFeedbackSubmit').removeAttr("disabled"); return false; }

    if (ccontactno.length != 10) {
        alert("Contact Number should be of 10 digit"); $("#FeedbackMobile").focus(); $('#btnFeedbackSubmit').removeAttr("disabled"); return false;

    }

    var message = $("#FeedbackMessage").val();
    if (message == "") { alert("Please enter any message"); $("#FeedbackMessage").focus(); $('#btnFeedbackSubmit').removeAttr("disabled"); return false; }
    var rating = $("#FeedbackRating").val();
    if (rating == "") { alert("Please rate us."); $("#FeedbackRating").focus(); $('#btnFeedbackSubmit').removeAttr("disabled"); return false; }



    var formtype = $("#FeedbackformName").val();
    var pageinfo = window.location.href;
    if (!validateEmail(mailid)) { alert("Please enter valid email address"); $("#cmailid").focus(); $('#btnFeedbackSubmit').removeAttr("disabled"); return false; }
    function validateEmail(sEmail) {
        var filter = /^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/;
        if (filter.test(sEmail)) { return true; }
        else { return false; }
    }

    var currentdate = new Date().toISOString().slice(0, 19).replace('T', ' ');

    //create json object
    var savecustomdata = {


        Name: name,
        EmailID: mailid,
        MobileNo: ccontactno,
        Message: message,
        Rating: rating,
        //reResponse: response,
        FormName: formtype,
        PageInfo: pageinfo,
        FormSubmitOn: currentdate


    };

    //ajax calling to insert  custom data function
    $.ajax({
        type: "POST",
        data: JSON.stringify(savecustomdata),
        url: "/api/AdaniCapital/FeedbackForm",
        contentType: "application/json",
        success: function (data) {
            //////////////
            if (data.status == '0') {
                alert(data.msg);
                $('#btnFeedbackSubmit').removeAttr("disabled");
                return false;
            }
            else {
                $("#Feedback_form .close").click();
                $('#feedbackForm').trigger("reset");
                $('#btnFeedbackSubmit').removeAttr("disabled");
                alert(data.msg);
            }

        },
        error: function (data) {
            alert("Something has been wrong, Please try again");
            $('#btnFeedbackSubmit').removeAttr("disabled");
            return false;
        }
    });
    return false;

});
$("#btnReqCallbackSubmit").click(function () {
    //var response = grecaptcha.getResponse(recaptcha1);
    //if (response.length == 0) {
    //    alert("Captcha required.");
    //    return false;
    //}

    $('#btnReqCallbackSubmit').attr("disabled", "disabled");
    var name = $("#ReqCallbackName").val();
    if (name == "") { alert("Please enter your Name"); $("#ReqCallbackName").focus(); $('#btnReqCallbackSubmit').removeAttr("disabled"); return false; }
    var mailid = $("#ReqCallbackEmailId").val();
    if (mailid == "") { alert("Email is Required"); $("#ReqCallbackEmailId").focus(); $('#btnReqCallbackSubmit').removeAttr("disabled"); return false; }
    var ccontactno = $("#ReqCallbackMobile").val();
    if (ccontactno == "") { alert("Please specify your Mobile Number"); $("#ReqCallbackMobile").focus(); $('#btnReqCallbackSubmit').removeAttr("disabled"); return false; }

    if (ccontactno.length != 10) {
        alert("Contact Number should be of 10 digit"); $("#ReqCallbackMobile").focus(); $('#btnReqCallbackSubmit').removeAttr("disabled"); return false;

    }

    var message = $("#ReqCallbackMessage").val();
    if (message == "") { alert("Please enter any message"); $("#ReqCallbackMessage").focus(); $('#btnReqCallbackSubmit').removeAttr("disabled"); return false; }



    var formtype = $("#ReqCallbackformName").val();
    var pageinfo = window.location.href;
    if (!validateEmail(mailid)) { alert("Please enter valid email address"); $("#cmailid").focus(); $('#btnReqCallbackSubmit').removeAttr("disabled"); return false; }
    function validateEmail(sEmail) {
        var filter = /^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/;
        if (filter.test(sEmail)) { return true; }
        else { return false; }
    }

    var currentdate = new Date().toISOString().slice(0, 19).replace('T', ' ');

    //create json object
    var savecustomdata = {


        Name: name,
        EmailID: mailid,
        MobileNo: ccontactno,
        Message: message,
        //reResponse: response,
        FormName: formtype,
        PageInfo: pageinfo,
        FormSubmitOn: currentdate


    };

    //ajax calling to insert  custom data function
    $.ajax({
        type: "POST",
        data: JSON.stringify(savecustomdata),
        url: "/api/AdaniCapital/RequestCallbackForm",
        contentType: "application/json",
        success: function (data) {
            //////////////
            if (data.status == '0') {
                alert(data.msg);
                $('#btnReqCallbackSubmit').removeAttr("disabled");
                return false;
            }
            else {
                $("#ReqCallback_form .close").click();
                $('#ReqCallbackForm').trigger("reset");
                $('#btnReqCallbackSubmit').removeAttr("disabled");
                alert(data.msg);
            }

        },
        error: function (data) {
            alert("Something has been wrong, Please try again");
            $('#btnReqCallbackSubmit').removeAttr("disabled");
            return false;
        }
    });
    return false;

});
$('#LMSmessage_modal button').click(function () {
    $('#LMSmessage_modal').css('display', 'none').removeClass('show');
    $('.modal-backdrop').css('display', 'none');
}
);
$('#ApplyForLoanSubmitBtn').click(function () {
    $('#LastTabIndex').val('#loan');
});
$(document).ready(function () {
    var tab = $('#LastTabIndex').val();
    $('.applyLoanTab a[href="' + tab + '"]').tab('show');
    $('html, body').animate({
        scrollTop: $('#ApplyForLoan_form').offset().top
    }, 'slow');
});
// Custom JS end