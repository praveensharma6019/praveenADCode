
@using Sitecore.Feature.Navigation
    @using Sitecore.Foundation.SitecoreExtensions.Extensions

    @using Sitecore.Mvc.Presentation
    @using Sitecore.Foundation.SitecoreExtensions.Extensions

    @model RenderingModel
    @{
        var datasource = Sitecore.Mvc.Presentation.RenderingContext.Current.Rendering.DataSource;
        var elements = Sitecore.Context.Database.GetItem(datasource);

        var ContentPath = Sitecore.Context.Item.Paths.ContentPath.Replace("/Defence/", "");
        var path = ContentPath.Replace("/Defence/", "");
        string[] pathArr = path.Split('/');
        var navPath = "/";
        var paramid = Sitecore.Mvc.Presentation.RenderingContext.Current.Rendering.Parameters.Where(x => x.Key == "cssclass").FirstOrDefault().Value;
        if (string.IsNullOrEmpty(paramid))
        {
            paramid = "breadcrumb-sub-layout bg-gray py-5";
        }
        var i = 0;
        var pageName = "";
    }


    <div class="breadcrumb-banner">
        <div class="bg-images"> @Html.Sitecore().ImageField("MediaThumbnail", elements, 0, 0, "image-fluid")</div>
        <div class="container position-relative d-block">
            <ul>
                @for (i = 0; i < pathArr.Count()-1; i++)
                {
                    navPath = navPath + pathArr[i];
                    pageName = pathArr[i].Replace("-", " ").Substring(0, 1).ToUpper() + "" + pathArr[i].Replace("-", " ").Substring(1).ToLower();
					if (i == 0)
						{
							<li><a href="@navPath.Replace("Home","")">@pageName</a></li>
						}
						else
						{
							<li><a href="@navPath.Replace("/Home","")">@pageName</a></li>
						}
                    
                    navPath = navPath + "/";
                }
            </ul>
            @Html.Sitecore().Field("MediaDescription", elements)
        </div>
    </div>


