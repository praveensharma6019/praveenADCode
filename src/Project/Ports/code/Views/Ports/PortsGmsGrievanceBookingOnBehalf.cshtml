@using Sitecore.Mvc.Configuration
@using Sitecore.Mvc
@using Sitecore.Foundation.SitecoreExtensions.Extensions
@model Sitecore.Ports.Website.Models.PortsGMSGrievanceBookingOnBeHalfModel
@using Sitecore.Ports.Website.Models

@{
    /**/


    var WhoImpacted = Sitecore.Context.Database.GetItem("{AB8F2314-5D70-40B4-9E5C-6C1062F6BCFC}");
    var Nature = Sitecore.Context.Database.GetItem("{39DA8970-3944-4F15-9A7D-7E9157ACB4F2}");
    var Location = Sitecore.Context.Database.GetItem("{0BE032CE-0BC0-49B9-8182-5DBCFA1349BE}");
    var Company = Sitecore.Context.Database.GetItem("{1B5C8C51-E533-449F-A06B-F96F58011CE7}");
    var item = Sitecore.Context.Database.GetItem(PortsGMSTemplates.Grievance.GrievanceLevel0Dashbord);
    var link = item.Url();
}
<section class="breadcrumb-sub-layout bg-white  pt-5 pb-4">
    <div class="container">
        <div class="row">
            <div class="col-lg-6">
                <ul class="breadcrumb-sublayout-ul">
                    <li>Home</li>
                    <li><a href="@link">Level-0 Dashboard</a></li>
                    <li>Grievance Booking On Behalf</li>
                </ul>
            </div>
            <div class="col-lg-6 text-right">
                <p class="user_logout"><a href="/Grievance/Logout"><span class="fa fa-sign-out mr-2"></span>Logout</a></p>
            </div>
        </div>
    </div>
</section>

<section class="pb-5 bg-white">
    <div class="container">
        @if (Session["SuccessMsg"] != null)
        {
            <div class="alert-success mb-4 p-2">@Session["SuccessMsg"]</div>
            Session["SuccessMsg"] = null;
        }
        @if (Session["ErrorMsg"] != null)
        {
            <div class="alert-danger mb-4 p-2">@Session["ErrorMsg"]</div>
            Session["ErrorMsg"] = null;
        }
        <div class="form_panel bg-l-gray p-4 box-shadow">
            <h3 class="heading mb-4 pl-3">Grievance Booking</h3>
            <form action="" enctype="multipart/form-data" id="PortsGmsGrievanceBookingOnBehalfForm" method="post">
                <div class="row">
                    <div class="col-lg-6 col-md-6">
                        <div class="form-group">
                            <label>Grievance Nature<span class="required">*</span></label>
                            <select class="form-control" name="Nature" required id="Nature">
                                <option>Select..</option>
                                @foreach (var element in Nature.GetChildren().ToList())
                                {
                                    var childCount = element.GetChildren().Count();
                                    //if (childCount != 0 && element.Fields["Key"].Value == Model.Nature)
                                    if (childCount != 0)
                                    {

                                        foreach (var child in element.GetChildren().ToList())
                                        {

                                            <option value="@Html.Sitecore().Field("Key", child)">@Html.Sitecore().Field("Key", child)</option>
                                        }
                                    }
                                    else
                                    {
                                        <option value="@Html.Sitecore().Field("Key", element)">@Html.Sitecore().Field("Key", element)</option>

                                    }

                                }
                            </select>
                            @Html.ValidationMessageFor(x => x.Nature, "", new { @class = "required" }, "p")
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6">
                        <div class="form-group">
                            <label>Location<span class="required">*</span></label>
                            <select class="form-control" name="Location" required id="Location">
                                <option>Select..</option>
                                @foreach (var element in Location.GetChildren().ToList())
                                {
                                    var childCount = element.GetChildren().Count();
                                    if (childCount != 0)
                                    {

                                    }
                                    else
                                    {
                                        <option value="@Html.Sitecore().Field("Title", element)">@Html.Sitecore().Field("Title", element)</option>

                                    }

                                }
                            </select>
                            @Html.ValidationMessageFor(x => x.Location, "", new { @class = "required" }, "p")
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12 col-md-6">
                        <div class="form-group">
                            <label>Subject<span class="required">*</span></label>
                            <input type="text" class="form-control" name="Subject" required minlength="50" id="Subject"   autocomplete="off" placeholder="">
                            @Html.ValidationMessageFor(x => x.Subject, "", new { @class = "required" }, "p")
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-6 col-md-6">
                        <div class="form-group">
                            <label>Company<span class="required">*</span></label>
                            <select class="form-control" name="Company" required id="Company">
                                <option>Select..</option>
                                @foreach (var element in Company.GetChildren().ToList())
                                {
                                    var childCount = element.GetChildren().Count();
                                    if (childCount != 0)
                                    {

                                    }
                                    else
                                    {
                                        <option value="@Html.Sitecore().Field("Title", element)">@Html.Sitecore().Field("Title", element)</option>

                                    }

                                }
                            </select>
                            @Html.ValidationMessageFor(x => x.Company, "", new { @class = "required" }, "p")
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6">
                        <div class="form-group">
                            <label>Who Impacted<span class="required">*</span></label>
                            <select class="form-control" name="WhoImpacted" required id="WhoImpacted">
                                <option>Select..</option>
                                @foreach (var element in WhoImpacted.GetChildren().ToList())
                                {
                                    var childCount = element.GetChildren().Count();
                                    if (childCount != 0)
                                    {

                                    }
                                    else
                                    {
                                        <option value="@Html.Sitecore().Field("Title", element)">@Html.Sitecore().Field("Title", element)</option>

                                    }

                                }
                            </select>
                            @Html.ValidationMessageFor(x => x.WhoImpacted, "", new { @class = "required" }, "p")
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-6 col-md-6">
                        <div class="form-group">
                            <label for="">Grievance in brief</label>
                            <textarea class="" name="Brief" required minlength="50" id="Brief" rows="4" cols="55"></textarea>
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6">
                        <div class="form-group">
                            <label for="">Attachment</label>
                            <input type="file" class="form-control-file p-1" name="File" id="Attachment">
                        </div>
                    </div>
                </div>

                <h3 class="heading mb-4 pl-3">Stakeholder Details</h3>
                <div class="row">
                    <div class="col-lg-6 col-md-6">
                        <div class="form-group">
                            <label>Name<span class="required">*</span></label>
                            <input type="text" class="form-control" name="Name" required maxlength="255" id="Name"   autocomplete="off" placeholder="">
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6">
                        <div class="form-group">
                            <label>Email<span class="required">*</span></label>
                            <input type="email" class="form-control" name="Email" required maxlength="255" id="Email"   autocomplete="off" placeholder="">
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-6 col-md-6">
                        <div class="form-group">
                            <label>Mobile<span class="required">*</span></label>
                            <input type="text" class="form-control" name="Mobile" required pattern="^[0-9]{1,10}$" title="Error: 10 digits are required." id="Subject"   autocomplete="off" placeholder="">
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6">
                        <div class="form-group">
                            <label>On Behalf<span class="required">*</span></label>
                            <select class="form-control" name="OnBehalf" id="OnBehalf">
                                <option value="">Stakeholder</option>
                                @*@foreach (var element in Model.StakHolders)
                                {

                                    <option value="@element.Id">@element.Name</option>



                                }*@
                            </select>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12 mt-3 text-right">
                        <button type="submit" class="btn btn-gradient">Save</button>
                        <a href="@link" class="btn btn-dark">Close</a>
                    </div>
                </div>
            </form>
        </div>
    </div>
</section>