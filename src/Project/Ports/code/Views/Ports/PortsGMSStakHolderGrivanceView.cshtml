@using Sitecore.Mvc.Configuration
@using Sitecore.Mvc
@using Sitecore.Foundation.SitecoreExtensions.Extensions
@model Sitecore.Ports.Website.Models.PortsGmsStakHolderDashbord
@using Sitecore.Ports.Website.Models
@{

    // var currentDate = DateTime.Now;
    // var AddGrievance = Sitecore.Context.Database.GetItem(PortsGMSTemplates.Grievance.GrievanceBookingOnBehalf);
    var item = Sitecore.Context.Database.GetItem(PortsGMSTemplates.Grievance.GrievanceStakHolderDashbord);
    var link = item.Url();

}

<section class="breadcrumb-sub-layout bg-white  pt-5 pb-4">
    <div class="container">
        <div class="row">
            <div class="col-lg-6">
                <ul class="breadcrumb-sublayout-ul">
                    <li><a href="/grievance/stakholder">Home</a></li>
                    <li>Stakeholder Grievance Review</li>
                </ul>
            </div>
            <div class="col-lg-6 text-right">
                <p class="user_logout"><a href="/Grievance/Logout"><span class="fa fa-sign-out mr-2"></span>Logout</a></p>
            </div>
        </div>
    </div>
</section>
<section class="pb-5 bg-white">
    <div class="container">
        <form action="" enctype="multipart/form-data" id="PortsGMSStakHolderGrivanceView" method="post">
            <div class="form_panel bg-l-gray p-4 box-shadow">
                <h3 class="heading mb-4 pl-3">Stakeholder Details</h3>
                <div class="row">
                    <div class="col-lg-4">
                        <div class="form-group">
                            <label for="">Name</label>
                            <input type="text" class="form-control" value="@Model.Name" name="Name" placeholder="" readonly>
                        </div>
                    </div>
                    <div class="col-lg-8">
                        <div class="form-group">
                            <label for="">Address</label>
                            <input type="text" class="form-control" value="@Model.Address" name="Address" placeholder="" readonly>
                        </div>
                    </div>
                    <div class="col-lg-3 d-none">
                        <div class="form-group">
                            <label for="">DOB</label>
                            <input type="text" class="form-control" name="DOB" value="@Model.DOB" placeholder="" readonly>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="form-group">
                            <label for="">Gender</label>
                            <input type="text" class="form-control" name="Gender" value="@Model.Gender" placeholder="" readonly>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="form-group">
                            <label for="">Email</label>
                            <input type="text" class="form-control" name="Email" value="@Model.Email" placeholder="" readonly>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="form-group">
                            <label for="">Mobile</label>
                            <input type="text" class="form-control" name="Mobile" value="@Model.Mobile" placeholder="" readonly>
                        </div>
                    </div>

                </div>
                <hr>
                <h3 class="heading mb-4 pl-3">Grievance Details</h3>
                <div class="row">
                    <div class="col-lg-6 col-md-6">
                        <label for="">Grievance ID</label>
                        <div class="form-group">
                            <input style="text-transform:uppercase;" type="text" class="form-control" name="Id" id="Id" value="@Model.Id" placeholder="" readonly>
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6">
                        <label for="">Location</label>
                        <div class="form-group">
                            <input type="text" class="form-control" name="Location" value="@Model.Location" placeholder="" readonly>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-6 d-none">
                        <label for="">Location Department</label>
                        <div class="form-group">
                            <input type="text" class="form-control" name="Department" value="@Model.Department" placeholder="" readonly>
                        </div>
                    </div>
                    <div class="col-lg-12 col-md-6">
                        <label for="">Subject</label>
                        <div class="form-group">
                            <input type="text" class="form-control" name="Subject" minl value="@Model.Subject" minlength="10" placeholder="" readonly>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-6 d-none">
                        <label for="">WhoImpacted</label>
                        <div class="form-group">
                            <input type="text" class="form-control" name="WhoImpacted" value="@Model.WhoImpacted" placeholder="" readonly>
                        </div>
                    </div>
                    <div class="col-lg-12 col-md-6">
                        <label for="">Grievance Brief</label>
                        <div class="form-group">
                            @*<input type="text" class="form-control" name="Brief" id="Brief" value="@Model.Brief" placeholder="" readonly>*@
                            <textarea class="" name="Brief" rows="3" cols="115" minlength="50" readonly style="background-color: #deeaf5;">@Model.Brief</textarea>
                        </div>
                    </div>
                    @*<div class="col-lg-12" @(Model.FinalComment == null ? "style=display:none" : string.Empty)>
            <label for="">Final Comment</label>
            <div class="form-group">
                <textarea class="" name="FinalComment" rows="3" cols="115" minlength="50" readonly style="background-color: #deeaf5;">@Model.FinalComment</textarea>
            </div>
        </div>*@
                    @foreach (var stakeholder in Model.StakeholderFinalComment)
                    {
                        <div class="col-lg-12">
                            <label for="">Level-0 Final Comment(@stakeholder.UserName) [@stakeholder.Created_Date]</label>
                            <div class="form-group">
                                <textarea class="" name="Level0Comment" rows="3" cols="115" minlength="50" readonly style="background-color: #deeaf5;">@stakeholder.FinalComment</textarea>
                            </div>
                        </div>
                    }
                </div>
                <div class="col-lg-12">
                    <hr>
                </div>

                <hr>
                <div class="" id="Stakeholder" @(ViewBag.SubmitToStakeholderRecordCount == 0 ? "style=display:none" : string.Empty)>
                    <h3 class="heading mb-4 pl-3">For StakeHolder </h3>
                    <div class="row">
                        <div class="col-lg-4">
                            <div class="form-check">
                                <input type="checkbox" name="chkResponse" required class="form-check-input" id="chkResponse" value="@Model.ChkResponse">
                                <label class="form-check-label" for="">
                                    Are you satisfied with the response?
                                </label>
                            </div>
                        </div>
                        <div class="col-lg-8">
                            <div class="form-group">
                                <label for="">
                                    Remarks
                                    <span class="required">*</span>
                                </label>
                                <br>
                                <textarea class="" required name="StakeholderRemarks" id="StakeholderRemarks" rows="3" cols="75"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-12 mt-3 text-right">
                        <input id="submitStackholderReview" class="btn btn-gradient" type="button" value="Submit" />
                        <a href="@link" class="btn btn-dark">Close</a>
                    </div>
                </div>

                @if (Model.Status == PortsGMSTemplates.GMSFlags.BookingReOpen || Model.Status == PortsGMSTemplates.GMSFlags.BookingClosed)
                {
                    <div class="col-lg-12 col-md-6" style=" margin-left: -10px; ">
                        <label for="">Stakeholder Remarks</label>
                        <div class="form-group">
                            @*<input type="text" class="form-control" name="Brief" id="Brief" value="@Model.Brief" placeholder="" readonly>*@
                            <textarea class="" name="Remarks" rows="3" cols="115" minlength="50" readonly style="background-color: #deeaf5;">@Model.StakeholderRemarks</textarea>
                        </div>
                    </div>
                }
            </div>
        </form>
    </div>
    
</section>
