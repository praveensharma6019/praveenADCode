@using Sitecore.Data.Fields
@using Sitecore.Data.Items
@using Sitecore.Foundation.SitecoreExtensions.Extensions
@using Sitecore.Foundation.Website.Helper
@{
    var datasource = Sitecore.Mvc.Presentation.RenderingContext.Current.Rendering.DataSource;
    var dataSourceItem = Sitecore.Context.Database.GetItem(datasource);
    var i = 1;
    var j = 1;
}

<section class="map_section">
    <div class="container">
        <div class="row">
            <div class="col-lg-7">
                <div class="map_section--content">
                    <div class="row mb-3 no-gutters">
                        <div class="col-md-8 order-md-1 order-2">
                            <div class="text_container">
                                <h1 class="seoHeading">@Html.Sitecore().Field("Title", dataSourceItem)</h1>
                            </div>
                        </div>
                        <div class="col-md-4 text-lg-right text-left order-md-2 order-1 mb-md-0 mb-3"><img src="https://dltpl.adani-total.in/-/media/Project/DTPL/logo-dhamra" class="img-fluid"></div>
                    </div>
                    @Html.Sitecore().Field("Body", dataSourceItem)
                </div>
            </div>

            <div class="col-lg-5">
                <div class="video-modal-slider owl-carousel video-modal">
                    @foreach (Item videoSliderItem in dataSourceItem.GetChildren())
                    {
                        var thumbnailImageUrl = Helper.ImageUrl(videoSliderItem.Fields["Image"]);
                        <div class="item">
                            <div class="video_section" data-toggle="modal" data-target="#about-video-@i">
                                <img src="@thumbnailImageUrl"
                                     alt="" width="1494" height="850" />
                                <p>@Html.Sitecore().Field("Title", videoSliderItem)</p>
                            </div>
                        </div>
                        i++;
                    }
                </div>

                <!-- Modal start -->
                @foreach (Item videoSliderItem in dataSourceItem.GetChildren())
                {
                    var videoUrl = Helper.LinkUrl(videoSliderItem.Fields["LinkUrl"]);
                    <div class="modal fade video_modal" id="about-video-@j" tabindex="-1" role="dialog"
                         aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                            <div class="modal-content">
                                <div class="modal-body">
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>

                                    <div class='embed-container'>

                                        <iframe width="788" height="444"
                                                src="@videoUrl" frameborder="0"
                                                allowfullscreen>
                                        </iframe>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    j++;
                }
            </div>
        </div>
    </div>
</section>