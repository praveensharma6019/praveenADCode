@using Sitecore.Data.Fields
@using Sitecore.Data.Items
@using Sitecore.Mvc
@model Sitecore.Mvc.Presentation.RenderingModel
@{
var datasource = Sitecore.Mvc.Presentation.RenderingContext.Current.Rendering.DataSource;
Item model = Sitecore.Context.Database.GetItem(datasource);
string imgurl = "";
string altText = "";
string thumbimgurl = "";
string thumbaltText = "";
}
@if(model != null)
{
Sitecore.Data.Fields.LinkField linkField = model.Fields["CTALink"];
var btnUrl = linkField.GetFriendlyUrl();
Sitecore.Data.Fields.ImageField imgField = ((Sitecore.Data.Fields.ImageField)model.Fields["Image"]);
if (imgField != null && imgField.MediaItem != null)
{
imgurl = Sitecore.Resources.Media.MediaManager.GetMediaUrl(imgField.MediaItem);
altText = imgField.Alt;
}
Sitecore.Data.Fields.ImageField thumbimgField = ((Sitecore.Data.Fields.ImageField)model.Fields["MobileImage"]);
if (thumbimgField != null && thumbimgField.MediaItem != null)
{
thumbimgurl = Sitecore.Resources.Media.MediaManager.GetMediaUrl(thumbimgField.MediaItem);
thumbaltText = thumbimgField.Alt;
}
<div class="popup-box ac" id="pressPopup">
   <div class="backdrop" id="pressPopupClose"></div>
   <div class="popup-content">
       <span class="close-modal" onclick="closeModal()">
                      <i class="i-close i-20"></i>
            </span>
            
                    <img src="@imgurl" alt="@altText" class="popuppress-desktop-img"/>
                    <img src="@thumbimgurl" alt="@thumbaltText" class="popuppress-mobile-img"/>
					<div class="banner-btn">
					 @if (btnUrl != null)
						{
						CheckboxField checkbox = model.Fields["ExternalLink"];
						if (checkbox != null && checkbox.Checked)
						{
						<a href="@btnUrl" target="_blank" class="btn-pop dr_inverse_btn">@Html.Sitecore().Field("CTAText", model)</a>
						}
						else
						{
						<a href="@btnUrl" class="btn-pop dr_inverse_btn">@Html.Sitecore().Field("CTAText", model)</a>
						}
						}
						else
						{
						<a href="javascript:void(0)" class="btn-pop dr_inverse_btn">@Html.Sitecore().Field("CTAText", model)</a>
						}					
					</div>
      
   </div>
</div>
}
