@using Sitecore
@using Sitecore.Foundation.SitecoreExtensions.Extensions
@using Sitecore.Data.Fields
@using Sitecore.Data.Items
@using Sitecore.AdaniCapital.Website.Helper
@using Sitecore.Foundation.Assets
@using Sitecore.Foundation.Assets.Models
@using Sitecore.Foundation.Assets.Services
@using Sitecore.Mvc.Analytics.Extensions
@using Sitecore.ExperienceForms.Mvc.Html
@using Sitecore.Foundation.Dictionary.Extensions
@using Sitecore.Mvc
@using Sitecore.Resources.Media
@model Sitecore.Mvc.Presentation.RenderingModel
@{





var datasource = Sitecore.Mvc.Presentation.RenderingContext.Current.Rendering.DataSource;
Item model = Sitecore.Context.Database.GetItem(datasource);
string imgurl = "";
string altText = "";
var btnUrl = "";
}




@if (model != null)
{








<div class="section-holder edge-connex-hoder">
<div class="content-wrapper grid-wrapper grid-layout-2">
<p class="full h1 fm-asb tx-000 custom-module-headng">Certifications</p>
<ul class="data-center-list list-mobile">




@if (model.HasChildren)
{
foreach (Item item in model.GetChildren())
{
Sitecore.Data.Fields.ImageField imgField = ((Sitecore.Data.Fields.ImageField)item.Fields["MediaImage"]);
if (imgField != null && imgField.MediaItem != null)
{
imgurl = Sitecore.Resources.Media.MediaManager.GetMediaUrl(imgField.MediaItem);
altText = imgField.Alt;
}




//if (!String.IsNullOrEmpty(@Html.Sitecore().Field("ButtonLink", item).ToString()))
//{
// Sitecore.Data.Fields.LinkField linkField = item.Fields["ButtonLink"];
// btnUrl = linkField.GetFriendlyUrl();
//}




Sitecore.Data.Fields.LinkField linkField = item.Fields["ButtonLink"];
btnUrl = linkField.GetFriendlyUrl();




<li>
<div class="award-item card-box card-media-top small-card">
@if (imgurl != "")
{
<div class="card-media">
<img src="@imgurl" alt="@altText" class="">
</div>
}
<div class="card-content">
<p class="full fs-16">@Html.Sitecore().Field("SubTitle", item)</p>
<p class="full card-title fs-20 fm-am tx-000">@Html.Sitecore().Field("MediaTitle", item)</p>
<p class="full card-desc d-txt">@Html.Sitecore().Field("MediaDescription", item)</p>





@if (btnUrl != "")
{
if (linkField.LinkType == "internal")
{
<a href="@btnUrl" class="d-txt card-link">@Html.Sitecore().Field("ButtonTitle", item)</a>




}
else
{
<a href="@btnUrl" target="_blank" class="d-txt card-link">@Html.Sitecore().Field("ButtonTitle", item)</a>




}
}
else
{
<a href="#" class="d-txt card-link">@Html.Sitecore().Field("ButtonTitle", item)</a>
}




</div>
</div>
</li>




}
}




</ul>
</div>
</div>
}