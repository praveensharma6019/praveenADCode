@using Sitecore
@using Sitecore.Foundation.SitecoreExtensions.Extensions
@using Sitecore.Data.Fields
@using Sitecore.Data.Items
@using Sitecore.AdaniCapital.Website.Helper
@using Sitecore.Foundation.Assets
@using Sitecore.Foundation.Assets.Models
@using Sitecore.Foundation.Assets.Services
@using Sitecore.Mvc.Analytics.Extensions
@using Sitecore.ExperienceForms.Mvc.Html
@using Sitecore.Foundation.Dictionary.Extensions
@using Sitecore.Mvc
@using Sitecore.Feature.Media
@using Sitecore.Feature.Media.Repositories
@using Sitecore.Resources.Media
@model Sitecore.Mvc.Presentation.RenderingModel
@{
var datasource = Sitecore.Mvc.Presentation.RenderingContext.Current.Rendering.DataSource;
Item model = Sitecore.Context.Database.GetItem(datasource);
string url = string.Empty;   
string altText = string.Empty;  
string bgurl = string.Empty;   
string bgaltText = string.Empty;
}
@if (model != null)
{
<div class="hero-section" id="dr_hero_section">
   <div class="owl-carousel dot-bc absolute_dots" id="dr_esg_slider">
      @if(model.HasChildren)
      {							
      foreach(Item child in model.GetChildren())
      {		
      if(child.TemplateName == "Profile-Banner-Page")
      {													
      Sitecore.Data.Fields.ImageField imgField = ((Sitecore.Data.Fields.ImageField)child.Fields["BannerImage"]);
      Sitecore.Data.Fields.ImageField bgimgField = ((Sitecore.Data.Fields.ImageField)child.Fields["BackgroundImage"]);
      if ((imgField != null && imgField.MediaItem != null))
      {
      url = Sitecore.Resources.Media.MediaManager.GetMediaUrl(imgField.MediaItem);
      altText = imgField.Alt;								  						 
      }
      if ((bgimgField != null && bgimgField.MediaItem != null))
      {								 
      bgurl = Sitecore.Resources.Media.MediaManager.GetMediaUrl(bgimgField.MediaItem);
      bgaltText = bgimgField.Alt;							 
      }
      Sitecore.Data.Fields.LinkField linkField = child.Fields["CTALink"];
      string Linkurl = linkField.GetFriendlyUrl();
      <div class="slide-owl-wrap">
         <div class="dr_row">
            <div class="dr_col_4">
               <img src="@url" alt="@altText">
            </div>
            <div class="dr_col_8">
               <figure>
                  <img src="@bgurl" alt="@bgaltText">
               </figure>
               <div class="full">
                  <div class="hero-content">
                     <h3 class="full hero-heading fm-asb">@Html.Sitecore().Field("Heading",child)</h3>
                     <h4>@Html.Sitecore().Field("Summary",child)</h4>
                     <p>@Html.Sitecore().Field("Name",child) - @Html.Sitecore().Field("Designation",child)</p>
                     <div class="dr_btn_group">                
                        <a href="@Linkurl" class="btn">@Html.Sitecore().Field("CTAText",child)</a>                
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
      }
      }
      }
   </div>
   <div class="hero-content-wrapper">
   @Html.Sitecore().Placeholder("press-release-breadcrumb")
   </div>
</div>
}