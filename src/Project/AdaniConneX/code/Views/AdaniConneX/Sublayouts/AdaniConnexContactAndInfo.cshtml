@using Sitecore
@using Sitecore.Foundation.SitecoreExtensions.Extensions
@using Sitecore.Data.Fields
@using Sitecore.Data.Items
@using Sitecore.AdaniCapital.Website.Helper
@using Sitecore.Foundation.Assets
@using Sitecore.Foundation.Assets.Models
@using Sitecore.Foundation.Assets.Services
@using Sitecore.Mvc.Analytics.Extensions
@using Sitecore.ExperienceForms.Mvc.Html
@using Sitecore.Foundation.Dictionary.Extensions
@using Sitecore.Mvc
@using Sitecore.Resources.Media
@model Sitecore.Mvc.Presentation.RenderingModel
@{

    var datasource = Sitecore.Mvc.Presentation.RenderingContext.Current.Rendering.DataSource;
    Item model = Sitecore.Context.Database.GetItem(datasource);
    
    string imgurl = "";
    string altText = "";
    


}
<div class="contact-module">
    <div class="content-wrapper grid-wrapper">
       @if (model != null && model.HasChildren)
       {
           foreach (Item item in model.GetChildren())
           {
               Sitecore.Data.Fields.ImageField imgField = ((Sitecore.Data.Fields.ImageField)item.Fields["MediaImage"]);
               if (imgField != null && imgField.MediaItem != null)
               {
                   imgurl = Sitecore.Resources.Media.MediaManager.GetMediaUrl(imgField.MediaItem);
                   altText = imgField.Alt;
               }
               var cssClass = item.Fields["Class"].ToString();

               Sitecore.Data.Fields.LinkField linkField = item.Fields["CTALink"];
               var btnUrl = linkField.GetFriendlyUrl();
                <div class="item-col">
                    <div class="item-type-1">

                        @if (!string.IsNullOrWhiteSpace(cssClass))
                        {
                            <i class="@Html.Sitecore().Field("Class", item)"></i>
                        }
                        else
                        {
                            if (imgurl != "")
                            {
                                <i class="i-50"><img src="@imgurl" /></i>
                            }
                        }

                        @if (linkField.LinkType == "anchor")
                        {
                            
                                <aside>
                                    <h4><a href="@linkField.Anchor" class="@linkField.Class">@Html.Sitecore().Field("MediaTitle", item)</a></h4>
                                    <p><a href="@linkField.Anchor" class="@linkField.Class">@Html.Sitecore().Field("MediaDescription", item)</a></p>
                                </aside>
                           
                        }

                    </div>
                </div>
           }
       }
        @Html.Sitecore().Placeholder("colocation-contact")
        
    </div>
</div>