@using Sitecore
@using Sitecore.Foundation.SitecoreExtensions.Extensions
@using Sitecore.Data.Fields
@using Sitecore.Data.Items
@using Sitecore.AdaniCapital.Website.Helper
@using Sitecore.Foundation.Assets
@using Sitecore.Foundation.Assets.Models
@using Sitecore.Foundation.Assets.Services
@using Sitecore.Mvc.Analytics.Extensions
@using Sitecore.ExperienceForms.Mvc.Html
@using Sitecore.Foundation.Dictionary.Extensions
@using Sitecore.Mvc
@using Sitecore.Resources.Media
@model Sitecore.Mvc.Presentation.RenderingModel
@{

    var datasource = Sitecore.Mvc.Presentation.RenderingContext.Current.Rendering.DataSource;
    Item model = Sitecore.Context.Database.GetItem(datasource);

    string imgurl = "";
    string altText = "";
    string videoUrl = "";

    var sendEmail = "false";
    Sitecore.Data.ID pageContextID = Sitecore.Data.ID.Parse(@Sitecore.Context.Item.ID);
    Sitecore.Data.Items.Item pageContext = Sitecore.Context.Database.GetItem(pageContextID);
    Sitecore.Data.Fields.MultilistField multiselectField = pageContext?.Fields["{1326C5B4-F98B-4D72-8645-8315499FB1D3}"];
    if (multiselectField != null)
    {
        Sitecore.Data.Items.Item[] items = multiselectField.GetItems();
        if (items.Length > 0)
        {
            foreach (var item in items)
            {
                if (item.DisplayName == "Ebook_form")
                {

                    sendEmail = "true";
                }
            }
        }

    }

}


@if (model != null)
{

Sitecore.Data.Fields.ImageField imgField = ((Sitecore.Data.Fields.ImageField)model.Fields["MediaImage"]);
                        if (imgField != null && imgField.MediaItem != null)
                        {
                            imgurl = Sitecore.Resources.Media.MediaManager.GetMediaUrl(imgField.MediaItem);
							altText =  imgField.Alt;

                        }					

  <div class="dr_ebook_page">
    <div class="section-holder">
      <div class="content-wrapper">
        <!-- Breadcrumb | START -->
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb">
              <li><a href="/">Home</a></li>
              <li><a href="/resources">Resources</a></li>
              <li><span style="text-transform:none">eBook</span></li>
          </ol>
        </nav>
          <!-- eBook | START -->
        <div class="full">
          <p class="full h1 fm-asb tx-000">@Html.Sitecore().Field("MediaTitle",model)</p>
        </div>
        <div class="full sustainability-content grid-wrapper mob-col-reverse dr_ebook_form">
          <div class="left-col custom-col">
            <div class="e_book_form">
               <div class="contact-us-floating contact-active" id="ebookUsHolder">
                  <div class="contact-us-form anim ebook_form" id="ebook_form">
                     <header>
                          <h3>10 minute read</h3>

                        <p class="full h2 fm-asb tx-000">Download eBook</p>
                     </header>

                     <div class="contact-inputs">
                        <div class="input-wrapper floating">
                          <input class="input" tabindex="11" id="ebook_name" name="ebook_name" data-has-validation="enable" data-input-required="required">
                          <label for="ebook_name" class="label anim">Name*</label>
                        </div>
                      </div>

                    <div class="grid-wrapper grid-layout-2 contact-inputs">
                        <div class="grid">
                          <div class="contact-inputs">
                            <div class="input-wrapper floating">
                              <input id="ebook_email" tabindex="12" name="ebook_email" class="input anim" data-has-validation="enable" data-input-required="required" data-input-regex="^(([^<>()[\]\\.,;:\s@@&quot;]+(\.[^<>()[\]\\.,;:\s@@&quot;]+)*)|(&quot;.+&quot;))@@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$">
                              <label for="ebook_email" class="label anim">Email*</label>
                            </div>
                          </div>
                        </div>
                          <div class="grid">
                          <div class="contact-inputs">
                              <div class="input-wrapper floating">
                                <input id="ebook_mobile" tabindex="13" name="ebook_mobile" class="input anim" maxlength="10" inputmode="numeric" data-has-validation="enable" data-input-required="required" data-input-regex="^(?:(?:\+|0{0,2})91(\s*[\-]\s*)?|[0]?)?[789]\d{9}$">
                                <label for="ebook_mobile" class="label anim">Contact Number*</label>
                              </div>
                          </div>
                      </div>
                    </div>

                    <div class="grid-wrapper grid-layout-2 contact-inputs">
                        <div class="grid">
                          <div class="contact-inputs">
                            <div class="input-wrapper floating">
                              <input class="input anim" tabindex="14" id="ebook_company" name="ebook_company" data-has-validation="enable" data-input-required="required">
                              <label for="ebook_company" class="label anim">Company Name*</label>
                            </div>
                          </div>
                        </div>
                          <div class="grid">
                          <div class="contact-inputs">
                              <div class="input-wrapper floating">
                                <!-- <input id="ebook_country" tabindex="15" name="ebook_country" class="input anim" maxlength="10" inputmode="numeric" data-has-validation="enable" data-input-required="required" data-input-regex="^(?:(?:\+|0{0,2})91(\s*[\-]\s*)?|[0]?)?[789]\d{9}$"> -->
                                <input class="input" tabindex="15" id="ebook_country" name="ebook_country" data-has-validation="enable" data-input-required="required">
								<label for="ebook_country" class="label anim">Country*</label>
                              </div>
                          </div>
                      </div>
                    </div>

                      <div class="contact-inputs">
                        <div class="chckbx-wrpr">
                            <input type="checkbox" tabindex="6" name="ebook_contact_remember" id="ebook_contact_remember">
                            <label for="ebook_contact_remember">By checking this box, you agree to the existing <a href="/privacy-policy">privacy policy</a> of Adani Group websites.</label>
                        </div>
                    </div>

                     <div class="contact-inputs">
                      <div id="ebook_recaptcha" style=" transform: scale(0.7); transform-origin: left;" class="captcha"></div>

                     </div>
                     <div class="contact-inputs">
                        <div class="input-wrapper floating">
                           <p id="ebook-form-error" class="error-message anim error"></p>
                        </div>
                     </div>
                     <div class="contact-inputs ac">
                         <input type="hidden" id="sendEmailEbook" name="sendEmailEbook" value="@sendEmail" />
                         <input type="hidden" id="data-url" name="data-url" docs-name="doc-name" />
                         <input type="hidden" id="ebook_FormType" name="FormType" value="Ebook_form">
                         <input type="button" id="ebook_FormSubmit" class="btn small" value="Download">
                     </div>
                  </div>
               </div>
            </div>
        </div>

          <div class="right-col custom-col">
            <img src="@imgurl" alt="@altText" class="img-fluid">
            <p class="full d-txt desc">@Html.Sitecore().Field("MediaDescription",model)
</p>


          </div>

        </div>
        </div>
    </div>

@Html.Sitecore().Placeholder("about-ebook")
@Html.Sitecore().Placeholder("quick-peek-inside")

  </div>

}