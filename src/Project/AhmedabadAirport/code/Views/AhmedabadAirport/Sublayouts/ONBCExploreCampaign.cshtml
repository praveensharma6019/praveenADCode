@using Sitecore
@using Sitecore.Foundation.SitecoreExtensions.Extensions
@model Sitecore.Mvc.Presentation.RenderingModel
@{
    var datasource = Sitecore.Mvc.Presentation.RenderingContext.Current.Rendering.DataSource;
    var model = Sitecore.Context.Database.GetItem(datasource);
}

@if (model != null && model.HasChildren)
{
    <div class="container-fluid bg-white explore-wrapper">
        <div class="explore-column-section">
                <h3>@Html.Sitecore().Field("Title", model)</h3>
                <div class="row">
                    @foreach (var exploreItem in model.GetChildren().ToList())
                    {
                        Sitecore.Data.Fields.ImageField imgField = ((Sitecore.Data.Fields.ImageField)exploreItem.Fields["Image"]);
                        string imgurl = null;
                        string altText = null;

                        if (imgField?.MediaItem != null)
                        {
                            imgurl = Sitecore.Resources.Media.MediaManager.GetMediaUrl(imgField.MediaItem);
                            altText = imgField.Alt;
                        }

                        if (!string.IsNullOrEmpty(imgurl))
                        {
                            <div class="col-md-3 item">
                                <figure><img src="@imgurl" alt="@altText"></figure>
                                <div class="desc">
                                    <h4>@Html.Sitecore().Field("Title", exploreItem)</h4>
                                    <p>@Html.Sitecore().Field("Summary", exploreItem)</p>
                                </div>
                            </div>
                        }
                    }
                </div>
            </div>
		
    </div>
}
else
{
    <p>No data found.</p>
}
