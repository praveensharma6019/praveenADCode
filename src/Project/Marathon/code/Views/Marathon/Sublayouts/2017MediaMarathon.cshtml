@using Sitecore.Mvc.Presentation
@using Sitecore.Foundation.SitecoreExtensions.Extensions
@using Sitecore.Project.Marathon
@model RenderingModel
@{
    var datasource = Sitecore.Mvc.Presentation.RenderingContext.Current.Rendering.DataSource;
    var model = Sitecore.Context.Database.GetItem(datasource);

}
<section class="marathon-winners-section">
    <div class="container">


        @foreach (var item in model.GetChildren().ToList())
        {
            var titles = item.Fields["Title"].ToString();
            <div class="marathon-winner-category">
                <h2>@titles</h2>
                <div class="tab-title hidden-sm hidden-xs">
                    <ul>
                        @foreach (var child in item.GetChildren().ToList())
                        {

                            <li>
                                <span>@child.DisplayName.ToString()</span>
                            </li>
                        }
                    </ul>
                </div>
                <div class="tab-wrapper hidden-sm hidden-xs">

                    @foreach (var child in item.GetChildren().ToList())
                    {



                        <div class="tab-content row flex">
                            @foreach (var subchild in child.GetChildren().ToList())
                            {
                                <div class="col-sm-4">
                                    <div class="marathon-winner-card">
                                        <div class="mthon-win-img">
                                            @Html.Sitecore().Field(Templates.HasMediaImage.Fields.Image, subchild)
                                        </div>
                                        <div class="winner-bio">
                                            <!-- <span class="candidate-code text-center">F 1137</span> -->
                                            <p class="candidate-detail">
                                                <span>   @Html.Sitecore().Field(Templates.HasMedia.Fields.Description, subchild)</span>
                                            </p>

                                        </div>
                                    </div>
                                </div>
                            }
                        </div>




                    }

                </div>
                <div class="full-marathon-winner-crousel winner-crousel owl-theme owl-carousel visible-sm visible-xs">
                    @foreach (var subitem in item.GetChildren().ToList())
                    {


                        <div class="marathon-winner-card">
                            @foreach (var subitems in subitem.GetChildren().ToList())
                            {
                                @Html.Sitecore().Field(Templates.HasMediaImage.Fields.Image, subitems)
                                <div class="winner-bio">
                                    <p class="candidate-detail">
                                        <span> @Html.Sitecore().Field(Templates.HasMedia.Fields.Description, subitems)</span>
                                    </p>
                                </div>

                            }
                        </div>
                    }
                </div>
            </div>
        }

    </div>
</section>












